/*! Copyright © 2009-2021 Postcode Anywhere (Holdings) Ltd. (http://www.postcodeanywhere.co.uk)
 *
 * Address v3.91
 * Address capture script file
 *
 * web-1-7 12/01/2021 15:31:36
 */
(function(window,undefined){var pca=(window.pca=window.pca||{}),document=window.document;if(typeof document=="undefined"){document={attachEvent:function(){},location:{}}}if(typeof window.location=="undefined"){window.location={}}if(typeof window.navigator=="undefined"){window.navigator={}}if(typeof window.attachEvent=="undefined"){window.attachEvent=function(){}}pca.protocol="https:";pca.host="services.postcodeanywhere.co.uk";pca.endpoint="json3ex.ws";pca.limit=2000;pca.sourceString=pca.sourceString||"PCA-SCRIPT";pca.synonyms=pca.synonyms||[{r:/\bN(?=\s)/,w:"NORTH"},{r:/\b(?:NE|NORTHEAST)(?=\s)/,w:"NORTH EAST"},{r:/\b(?:NW|NORTHWEST)(?=\s)/,w:"NORTH WEST"},{r:/\bS(?=\s)/,w:"SOUTH"},{r:/\b(?:SE|SOUTHEAST)(?=\s)/,w:"SOUTH EAST"},{r:/\b(?:SW|SOUTHWEST)(?=\s)/,w:"SOUTH WEST"},{r:/\bE(?=\s)/,w:"EAST"},{r:/\bW(?=\s)/,w:"WEST"},{r:/\bST(?=\s)/,w:"SAINT"},];pca.diacritics=pca.diacritics||[{r:/[ÀÁÂÃ]/gi,w:"A"},{r:/Å/gi,w:"AA"},{r:/[ÆæÄ]/gi,w:"AE"},{r:/Ç/gi,w:"C"},{r:/Ð/gi,w:"DJ"},{r:/[ÈÉÊË]/gi,w:"E"},{r:/[ÌÍÏ]/gi,w:"I"},{r:/Ñ/gi,w:"N"},{r:/[ÒÓÔÕ]/gi,w:"O"},{r:/[ŒØÖ]/gi,w:"OE"},{r:/Š/gi,w:"SH"},{r:/ß/gi,w:"SS"},{r:/[ÙÚÛ]/gi,w:"U"},{r:/Ü/gi,w:"UE"},{r:/[ŸÝ]/gi,w:"ZH"},{r:/-/gi,w:" "},{r:/[.,]/gi,w:""},];pca.hypertext=pca.hypertext||[{r:/&/g,w:"&amp;"},{r:/"/g,w:"&quot;"},{r:/'/g,w:"&#39;"},{r:/</g,w:"&lt;"},{r:/>/g,w:"&gt;"},];pca.requestQueue=pca.requestQueue||[];pca.requestCache=pca.requestCache||{};pca.scriptRequests=pca.scriptRequests||[];pca.waitingRequest=pca.waitingRequest||false;pca.blockRequests=pca.blockRequests||false;pca.styleFixes=pca.styleFixes||[];pca.agent=pca.agent||(window.navigator&&window.navigator.userAgent)||"";pca.galaxyFix=pca.galaxyFix||(/Safari\/534.30/.test(pca.agent)&&/GT-I8190|GT-I9100|GT-I9305|GT-P3110/.test(pca.agent));pca.container=pca.container||null;pca.XMLHttpRequest=pca.XMLHttpRequest||window.XMLHttpRequest;var ready=false,readyList=[];pca.fuzzyMatch=typeof pca.fuzzyMatch==="undefined"?true:pca.fuzzyMatch;pca.fuzzyTags=pca.fuzzyTags||["*"];pca.ready=pca.ready||function(delegate){if(ready){if(readyList.length){var handlers=readyList;readyList=[];for(var i=0;i<handlers.length;i++){handlers[i]()}}if(delegate){delegate()}}else{if(typeof delegate=="function"){readyList.push(delegate)}}};function documentLoaded(){if(document.addEventListener){pca.ignore(document,"DOMContentLoaded",documentLoaded);ready=true;pca.ready()}else{if(document.readyState==="complete"){pca.ignore(document,"onreadystatechange",documentLoaded);ready=true;pca.ready()}}}function checkDocumentLoad(){if(document.readyState==="complete"){ready=true;pca.ready()}else{if(document.addEventListener){pca.listen(document,"DOMContentLoaded",documentLoaded)}else{pca.listen(document,"onreadystatechange",documentLoaded)}pca.listen(window,"load",documentLoaded)}}pca.Eventable=pca.Eventable||function(source){var obj=source||this;obj.listeners={};obj.listen=function(event,action){obj.listeners[event]=obj.listeners[event]||[];obj.listeners[event].push(action)};obj.ignore=function(event,action){if(obj.listeners[event]){for(var i=0;i<obj.listeners[event].length;i++){if(obj.listeners[event][i]===action){obj.listeners[event].splice(i,1);break}}}};obj.fire=function(event,data){if(obj.listeners[event]){for(var i=0;i<obj.listeners[event].length;i++){var args=[data];for(var a=2;a<arguments.length;a++){args.push(arguments[a])}obj.listeners[event][i].apply(obj,args)}}};return obj};function postRequestXHR(request){var xhr=new pca.XMLHttpRequest();xhr.onreadystatechange=function(){if(xhr.readyState===4&&xhr.status===200){request.callback(pca.parseJSON(xhr.responseText))}};if(request.credentials){xhr.withCredentials=request.credentials}xhr.onerror=request.serviceError;xhr.ontimeout=request.timeoutError;xhr.open("POST",request.destination,true);xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded");xhr.send(request.query)}function postRequestForm(request){var form=document.createElement("form"),iframe=document.createElement("iframe"),loaded=false;function addParameter(name,value){var field=document.createElement("input");field.name=name;field.value=value;form.appendChild(field)}form.method="POST";form.action=pca.protocol+"//"+pca.host+"/"+request.service+"/json.ws";for(var key in request.data){addParameter(key,request.data[key])}addParameter("CallbackVariable","window.name");addParameter("CallbackWithScriptTags","true");iframe.onload=function(){if(!loaded){loaded=true;iframe.contentWindow.location="about:blank"}else{request.callback({Items:pca.parseJSON(iframe.contentWindow.name)});document.body.removeChild(iframe)}};iframe.style.display="none";document.body.appendChild(iframe);var doc=iframe.contentDocument||iframe.contentWindow.document;doc.body?doc.body.appendChild(form):doc.appendChild(form);form.submit()}function postRequest(request){window.navigator.appName==="Microsoft Internet Explorer"?postRequestForm(request):postRequestXHR(request)}function getRequestXHR(request){var xhr=new pca.XMLHttpRequest();if(request.url.length>pca.limit){request.post=true;postRequest(request)}else{xhr.onreadystatechange=function(){if(xhr.readyState===4&&xhr.status===200){request.callback(pca.parseJSON(xhr.responseText))}};if(request.credentials){xhr.withCredentials=request.credentials}xhr.onerror=request.serviceError;xhr.ontimeout=request.timeoutError;xhr.open("GET",request.url,true);xhr.send()}}function getRequestScript(request){var script=pca.create("script",{type:"text/javascript",async:"async",}),head=document.getElementsByTagName("head")[0];request.position=pca.scriptRequests.push(request);script.src=request.url+"&callback=pca.scriptRequests["+(request.position-1)+"].callback";script.onload=script.onreadystatechange=function(){if(!this.readyState||this.readyState==="loaded"||this.readyState==="complete"){script.onload=script.onreadystatechange=null;if(head&&script.parentNode){head.removeChild(script)}}};if(script.src.length>pca.limit){request.post=true;postRequest(request)}else{head.insertBefore(script,head.firstChild)}}function getRequest(request){window.navigator.appName==="Microsoft Internet Explorer"?getRequestScript(request):getRequestXHR(request)}function processRequest(request){if(pca.blockRequests&&pca.waitingRequest){pca.requestQueue=[request];return}if(request.block){pca.blockRequests=true}if(request.queue&&pca.waitingRequest){pca.requestQueue.push(request);return}pca.waitingRequest=true;if(request.cache&&pca.requestCache[request.url]){function ayncCallback(){request.callback(pca.requestCache[request.url].response)}window.setImmediate?window.setImmediate(ayncCallback):window.setTimeout(ayncCallback,1);return}request.post?postRequest(request):getRequest(request)}function processResponse(request){pca.waitingRequest=false;if(request.block){pca.blockRequests=false}if(request.unwrapped){request.success(request.response,request.response,request)}else{if(request.response.Items.length===1&&request.response.Items[0].Error!==undefined){request.error(request.response.Items[0].Description,request)}else{request.success(request.response.Items,request.response,request)}}if(request.cache){pca.requestCache[request.url]=request}if(request.position){pca.scriptRequests[request.position-1]=null}if(pca.requestQueue.length){processRequest(pca.requestQueue.shift())}}pca.Request=pca.Request||function(service,data,success,error){var request=new pca.Eventable(this);request.service=service||"";request.data=data||{};request.success=success||function(){};request.error=error||function(){};request.response=null;request.source=pca.sourceString||"";request.sessionId=pca.sessionId||"";request.cache=!!request.data.$cache;request.queue=!!request.data.$queue;request.block=!!request.data.$block;request.post=!!request.data.$post;request.credentials=!!request.data.$credentials;request.unwrapped=!!request.data.$unwrapped;request.destination=~request.service.indexOf("//")?request.service:pca.protocol+"//"+pca.host+"/"+request.service+"/"+pca.endpoint;request.query="";for(var p in request.data){request.query+=(request.query?"&":"")+p+"="+encodeURIComponent(request.data[p])}if(request.source){request.query+=(request.query?"&":"")+"SOURCE="+encodeURIComponent(request.source)}if(request.sessionId){request.query+=(request.query?"&":"")+"SESSION="+encodeURIComponent(request.sessionId)}request.url=request.destination+"?"+request.query;request.callback=function(response){request.response=response;processResponse(request)};request.serviceError=function(event){request.error(event&&event.currentTarget&&event.currentTarget.statusText?"Webservice request error: "+event.currentTarget.statusText:"Webservice request failed.")};request.timeoutError=function(){request.error("Webservice request timed out.")};request.process=function(){pca.process(request)}};pca.process=pca.process||function(request){processRequest(request)};pca.fetch=pca.fetch||function(service,data,success,error){processRequest(new pca.Request(service,data,success,error))};pca.clearBlockingRequests=pca.clearBlockingRequests||function(){pca.waitingRequest=false;pca.blockRequests=false};pca.loadScript=pca.loadScript||function(name,callback,doc){var script=pca.create("script",{type:"text/javascript"}),head=(doc||document).getElementsByTagName("head")[0];script.onload=script.onreadystatechange=function(){if(!this.readyState||this.readyState==="loaded"||this.readyState==="complete"){script.onload=script.onreadystatechange=null;(callback||function(){})()}};script.src=(~name.indexOf("/")?"":pca.protocol+"//"+pca.host+"/js/")+name;head.insertBefore(script,head.firstChild)};pca.loadStyle=pca.loadStyle||function(name,callback,doc){var style=pca.create("link",{type:"text/css",rel:"stylesheet"}),head=(doc||document).getElementsByTagName("head")[0];style.onload=style.onreadystatechange=function(){if(!this.readyState||this.readyState==="loaded"||this.readyState==="complete"){style.onload=style.onreadystatechange=null;(callback||function(){})()}};style.href=(~name.indexOf("/")?"":pca.protocol+"//"+pca.host+"/css/")+name;head.insertBefore(style,head.firstChild)};pca.Item=pca.Item||function(data,format){var item=new pca.Eventable(this),highlightClass="pcaselected";item.data=data;item.format=format;item.html=pca.formatLine(data,format);item.title=data.title||pca.removeHtml(item.html);item.tag=pca.formatTag(data.tag||item.html);item.element=pca.create("div",{className:"pcaitem",innerHTML:item.html,title:item.title,});item.visible=true;item.highlight=function(){pca.addClass(item.element,highlightClass);item.fire("highlight");return item};item.lowlight=function(){pca.removeClass(item.element,highlightClass);item.fire("lowlight");return item};item.mouseover=function(){item.fire("mouseover")};item.mouseout=function(){item.fire("mouseout")};item.mousedown=function(){item.fire("mousedown")};item.mouseup=function(){item.fire("mouseup");if(pca.galaxyFix){item.select()}};item.click=function(){item.fire("click");if(pca.galaxyFix){return}item.select()};item.select=function(){item.fire("select",item.data);return item};item.hide=function(){item.visible=false;item.element.style.display="none";item.fire("hide");return item};item.show=function(){item.visible=true;item.element.style.display="";item.fire("show");return item};pca.listen(item.element,"mouseover",item.mouseover);pca.listen(item.element,"mouseout",item.mouseout);pca.listen(item.element,"mousedown",item.mousedown);pca.listen(item.element,"mouseup",item.mouseup);pca.listen(item.element,"click",item.click);return item};pca.Collection=pca.Collection||function(){var collection=new pca.Eventable(this);collection.items=[];collection.highlighted=-1;collection.count=0;collection.firstItem=null;collection.lastItem=null;collection.firstVisibleItem=null;collection.lastVisibleItem=null;collection.add=function(data,format,callback){var additions=[];callback=callback||function(){};function createItem(attributes){var item=new pca.Item(attributes,format);item.listen("mouseover",function(){collection.highlight(item)});item.listen("select",function(selectedItem){collection.fire("select",selectedItem);callback(selectedItem)});collection.items.push(item);additions.push(item);return item}if(data.length){for(var i=0;i<data.length;i++){createItem(data[i])}}else{createItem(data)}collection.count+=data.length;collection.firstVisibleItem=collection.firstItem=collection.items[0];collection.lastVisibleItem=collection.lastItem=collection.items[collection.items.length-1];collection.fire("add",additions);return collection};collection.sort=function(field){collection.items.sort(function(a,b){return field?a.data[field]>b.data[field]?1:-1:a.tag>b.tag?1:-1});collection.fire("sort");return collection};collection.reverse=function(){collection.items.reverse();collection.fire("reverse");return collection};collection.filter=function(term){var tag=pca.formatTag(term),count=collection.count;collection.count=0;collection.firstVisibleItem=null;collection.lastVisibleItem=null;collection.all(function(item){if(~item.tag.indexOf(tag)){item.show();collection.count++;collection.firstVisibleItem=collection.firstVisibleItem||item;collection.lastVisibleItem=item}else{item.hide()}});if(count!==collection.count){collection.fire("filter")}return collection};collection.match=function(term){var tag=pca.formatTag(term),matches=[];collection.all(function(item){if(~item.tag.indexOf(tag)){matches.push(item)}});return matches};collection.clear=function(){collection.items=[];collection.count=0;collection.highlighted=-1;collection.firstItem=null;collection.lastItem=null;collection.firstVisibleItem=null;collection.lastVisibleItem=null;collection.fire("clear");return collection};collection.all=function(delegate){for(var i=0;i<collection.items.length;i++){if(delegate(collection.items[i],i)===false){break}}return collection};collection.highlight=function(item){if(~collection.highlighted){collection.items[collection.highlighted].lowlight()}collection.highlighted=collection.index(item);if(~collection.highlighted){collection.items[collection.highlighted].highlight()}collection.fire("highlight",item);return collection};collection.index=function(item){for(var i=0;i<collection.items.length;i++){if(collection.items[i]===item){return i}}return -1};collection.first=function(matcher){for(var i=0;i<collection.items.length;i++){if(!matcher?collection.items[i].visible:matcher(collection.items[i])){return collection.items[i]}}return null};collection.last=function(matcher){for(var i=collection.items.length-1;i>=0;i--){if(!matcher?collection.items[i].visible:matcher(collection.items[i])){return collection.items[i]}}return null};collection.next=function(matcher){for(var i=collection.highlighted+1;i<collection.items.length;i++){if(!matcher?collection.items[i].visible:matcher(collection.items[i])){return collection.items[i]}}return collection.first()};collection.previous=function(matcher){for(var i=collection.highlighted-1;i>=0;i--){if(!matcher?collection.items[i].visible:matcher(collection.items[i])){return collection.items[i]}}return collection.last()};collection.visibleItems=function(){var visible=[];collection.all(function(item){if(item.visible){visible.push(item)}});return visible};return collection};pca.List=pca.List||function(options){var list=new pca.Eventable(this);list.options=options||{};list.element=pca.create("div",{className:"pca pcalist"});list.collection=new pca.Collection();list.visible=true;list.scroll={held:false,moved:false,origin:0,position:0,x:0,y:0,dx:0,dy:0,};list.highlightedItem=null;list.headerItem=null;list.footerItem=null;list.firstItem=null;list.lastItem=null;list.firstItemClass="pcafirstitem";list.lastItemClass="pcalastitem";list.options.minItems=list.options.minItems||0;list.options.maxItems=list.options.maxItems||10;list.options.allowTab=list.options.allowTab||false;list.show=function(){list.visible=true;list.element.style.display="";list.fire("show");list.resize();return list};list.hide=function(){list.visible=false;list.element.style.display="none";list.fire("hide");return list};list.draw=function(){list.destroy();if(list.headerItem){list.element.appendChild(list.headerItem.element)}list.collection.all(function(item){list.element.appendChild(item.element)});if(list.footerItem){list.element.appendChild(list.footerItem.element)}list.resize();list.fire("draw");return list};list.markItems=function(){if(list.firstItem){pca.removeClass(list.firstItem.element,list.firstItemClass)}if(list.lastItem){pca.removeClass(list.lastItem.element,list.lastItemClass)}if(list.collection.count){list.firstItem=list.headerItem||list.collection.firstVisibleItem;list.lastItem=list.footerItem||list.collection.lastVisibleItem;pca.addClass(list.firstItem.element,list.firstItemClass);pca.addClass(list.lastItem.element,list.lastItemClass)}};list.add=function(array,format,callback){list.collection.add(array,format,callback);list.draw();return list};list.destroy=function(){while(list.element.childNodes&&list.element.childNodes.length){list.element.removeChild(list.element.childNodes[0])}return list};list.clear=function(){list.collection.clear();list.destroy();list.fire("clear");return list};list.setScroll=function(position){list.element.scrollTop=position;list.fire("scroll");return list};list.enableTouch=function(){function touchStart(event){event=event||window.event;list.scroll.held=true;list.scroll.moved=false;list.scroll.origin=parseInt(list.scrollTop);list.scroll.y=parseInt(event.touches[0].pageY)}function touchEnd(){list.scroll.held=false}function touchCancel(){list.scroll.held=false}function touchMove(event){if(list.scroll.held){event=event||window.event;pca.smash(event);list.scroll.dy=list.scroll.y-parseInt(event.touches[0].pageY);list.scroll.position=list.scroll.origin+list.scroll.dy;list.setScroll(list.scroll.position);list.scroll.moved=true}}pca.listen(list.element,"touchstart",touchStart);pca.listen(list.element,"touchmove",touchMove);pca.listen(list.element,"touchend",touchEnd);pca.listen(list.element,"touchcancel",touchCancel);return list};list.move=function(item){if(item){list.collection.highlight(item);if(item===list.headerItem||item===list.footerItem){item.highlight()}list.scrollToItem(item)}return list};list.next=function(){return list.move(list.nextItem())};list.previous=function(){return list.move(list.previousItem())};list.first=function(){return list.move(list.firstItem)};list.last=function(){return list.move(list.lastItem)};list.nextItem=function(){if(!list.highlightedItem){return list.firstItem}if(list.highlightedItem===list.collection.lastVisibleItem&&(list.footerItem||list.headerItem)){return list.footerItem||list.headerItem}if(list.footerItem&&list.headerItem&&list.highlightedItem===list.footerItem){return list.headerItem}return list.collection.next()};list.previousItem=function(){if(!list.highlightedItem){return list.lastItem}if(list.highlightedItem===list.collection.firstVisibleItem&&(list.footerItem||list.headerItem)){return list.headerItem||list.footerItem}if(list.footerItem&&list.headerItem&&list.highlightedItem===list.headerItem){return list.footerItem}return list.collection.previous()};list.currentItem=function(){return list.highlightedItem};list.selectable=function(){return list.visible&&!!list.currentItem()};list.select=function(){if(list.selectable()){list.currentItem().select()}return list};list.navigate=function(key){switch(key){case 40:list.next();return true;case 38:list.previous();return true;case 13:if(list.selectable()){list.select();return true}case 9:if(list.options.allowTab){list.next();return true}}return false};list.scrollToItem=function(item){list.scroll.position=list.element.scrollTop;if(item.element.offsetTop<list.scroll.position){list.scroll.position=item.element.offsetTop;list.setScroll(list.scroll.position)}else{if(item.element.offsetTop+item.element.offsetHeight>list.scroll.position+list.element.offsetHeight){list.scroll.position=item.element.offsetTop+item.element.offsetHeight-list.element.offsetHeight;list.setScroll(list.scroll.position)}}return list};list.filter=function(term){var current=list.collection.count;list.collection.filter(term);list.markItems();if(current!==list.collection.count){list.fire("filter",term)}return list};list.getHeight=function(){var visibleItems=list.collection.visibleItems(),headerItemHeight=list.headerItem?pca.getSize(list.headerItem.element).height:0,footerItemHeight=list.footerItem?pca.getSize(list.footerItem.element).height:0,lastItemHeight=0,itemsHeight=0;for(var i=0;i<visibleItems.length&&i<list.options.maxItems;i++){lastItemHeight=pca.getSize(visibleItems[i].element).height;itemsHeight+=lastItemHeight}if(visibleItems.length<list.options.minItems){itemsHeight+=(lastItemHeight+1)*(list.options.minItems-visibleItems.length)}return itemsHeight+headerItemHeight+footerItemHeight};list.resize=function(){var height=list.getHeight();if(height>0){list.element.style.height=height+"px"}};function createListItem(data,format,callback){var item=new pca.Item(data,format);item.listen("mouseover",function(){list.collection.highlight(item);item.highlight()});list.collection.listen("highlight",item.lowlight);item.listen("select",function(selectedItem){list.collection.fire("select",selectedItem);callback(selectedItem)});return item}list.setHeaderItem=function(data,format,callback){list.headerItem=createListItem(data,format,callback);pca.addClass(list.footerItem.element,"pcaheaderitem");list.markItems();return list};list.setFooterItem=function(data,format,callback){list.footerItem=createListItem(data,format,callback);pca.addClass(list.footerItem.element,"pcafooteritem");list.markItems();return list};list.collection.listen("highlight",function(item){list.highlightedItem=item});list.collection.listen("add",function(additions){list.markItems();list.fire("add",additions)});if(list.options.name){pca.setAttributes(list.element,{id:list.options.name,role:"listbox","aria-activedescendant":"",});list.collection.listen("add",function(additions){function listenHighlightChange(item){item.listen("highlight",function(){pca.setAttributes(list.element,{"aria-activedescendant":item.id,})})}for(var i=0;i<additions.length;i++){listenHighlightChange(additions[i])}list.collection.all(function(item,index){item.element.id=item.id=list.options.name+"_item"+index;pca.setAttributes(item.element,{role:"option"})})})}return list};pca.AutoComplete=pca.AutoComplete||function(fields,options){var autocomplete=new pca.Eventable(this);autocomplete.options=options||{};autocomplete.options.force=autocomplete.options.force||false;autocomplete.options.allowTab=autocomplete.options.allowTab||false;autocomplete.options.onlyDown=autocomplete.options.onlyDown||false;autocomplete.element=pca.create("div",{className:"pcaautocomplete pcatext",});autocomplete.anchors=[];autocomplete.list=new pca.List(autocomplete.options);autocomplete.fieldListeners=[];autocomplete.field=null;autocomplete.positionField=null;autocomplete.visible=true;autocomplete.hover=false;autocomplete.focused=false;autocomplete.upwards=false;autocomplete.controlDown=false;autocomplete.disabled=false;autocomplete.fixedWidth=false;autocomplete.emptyMessage=autocomplete.options.emptyMessage||"";autocomplete.skipFilter=false;autocomplete.stealth=false;function documentClicked(){autocomplete.checkHide()}function windowResized(){autocomplete.resize()}autocomplete.header={element:pca.create("div",{className:"pcaheader"}),headerText:pca.create("div",{className:"pcamessage"}),init:function(){this.hide()},setContent:function(content){content=content||"";typeof content=="string"?(this.element.innerHTML=content):this.element.appendChild(content);autocomplete.fire("header");return this},setText:function(text){text=text||"";this.element.appendChild(this.headerText);if(typeof text=="string"){pca.clear(this.headerText);this.headerText.appendChild(pca.create("span",{className:"pcamessageicon"}));this.headerText.appendChild(pca.create("span",{innerHTML:text}))}else{this.headerText.appendChild(text)}autocomplete.fire("header");return this},clear:function(){this.setContent();autocomplete.fire("header");return this},show:function(){this.element.style.display="";autocomplete.fire("header");return this},hide:function(){this.element.style.display="none";autocomplete.fire("header");return this},};autocomplete.footer={element:pca.create("div",{className:"pcafooter"}),init:function(){this.hide()},setContent:function(content){content=content||"";typeof content=="string"?(this.element.innerHTML=content):this.element.appendChild(content);autocomplete.fire("footer");return this},show:function(){this.element.style.display="";autocomplete.fire("footer");return this},hide:function(){this.element.style.display="none";autocomplete.fire("footer");return this},};autocomplete.load=function(){if(fields.length&&fields.constructor===Array){for(var i=0;i<fields.length;i++){autocomplete.attach(pca.getElement(fields[i]))}}else{autocomplete.attach(pca.getElement(fields))}pca.listen(autocomplete.element,"mouseover",function(){autocomplete.hover=true});pca.listen(autocomplete.element,"mouseout",function(){autocomplete.hover=false});pca.listen(document,"click",documentClicked);pca.listen(window,"resize",windowResized);if((document.documentMode&&document.documentMode<=7)||/\bMSIE\s(7|6)/.test(pca.agent)){autocomplete.setWidth(280)}if(document.documentMode&&document.documentMode<=5){pca.applyStyleFixes(".pca .pcafooter",{fontSize:"0pt"});pca.applyStyleFixes(".pca .pcaflag",{fontSize:"0pt"})}return autocomplete};autocomplete.attach=function(field){function bindFieldEvent(f,event,action){pca.listen(f,event,action);autocomplete.fieldListeners.push({field:f,event:event,action:action,})}function anchorToField(f){var anchor=pca.create("table",{className:"pca pcaanchor",cellPadding:0,cellSpacing:0,}),chain=[anchor.insertRow(0).insertCell(0),anchor.insertRow(1).insertCell(0),],link=pca.create("div",{className:"pcachain"});function focus(){link.appendChild(autocomplete.element);autocomplete.focus(f)}if(!f||!f.tagName){pca.append(autocomplete.element);return}f.parentNode.insertBefore(anchor,f);chain[0].appendChild(f);chain[1].appendChild(link);autocomplete.anchors.push(anchor);if(pca.inputField(f)){bindFieldEvent(f,"keyup",autocomplete.keyup);bindFieldEvent(f,"keydown",autocomplete.keydown);bindFieldEvent(f,"focus",focus);bindFieldEvent(f,"blur",autocomplete.blur);bindFieldEvent(f,"keypress",autocomplete.keypress);bindFieldEvent(f,"paste",autocomplete.paste);if(typeof document.activeElement!="unknown"&&f===document.activeElement){focus()}}bindFieldEvent(f,"click",function(){autocomplete.click(f)});bindFieldEvent(f,"dblclick",function(){autocomplete.dblclick(f)});bindFieldEvent(f,"change",function(){autocomplete.change(f)})}function positionAdjacentField(f){function focus(){autocomplete.focus(f)}pca.append(autocomplete.element);if(!f||!f.tagName){return}if(pca.inputField(f)){bindFieldEvent(f,"keyup",autocomplete.keyup);bindFieldEvent(f,"keydown",autocomplete.keydown);bindFieldEvent(f,"focus",focus);bindFieldEvent(f,"blur",autocomplete.blur);bindFieldEvent(f,"keypress",autocomplete.keypress);bindFieldEvent(f,"paste",autocomplete.paste);if(typeof document.activeElement!="unknown"&&f===document.activeElement){focus()}}bindFieldEvent(f,"click",function(){autocomplete.click(f)});bindFieldEvent(f,"dblclick",function(){autocomplete.dblclick(f)});bindFieldEvent(f,"change",function(){autocomplete.change(f)})}autocomplete.options.force?anchorToField(field):positionAdjacentField(field)};autocomplete.position=function(field){var fieldPosition=pca.getPosition(field),fieldSize=pca.getSize(field),topParent=pca.getTopOffsetParent(field),parentScroll=pca.getParentScroll(field),listSize=pca.getSize(autocomplete.element),windowSize=pca.getSize(window),windowScroll=pca.getScroll(window),fixed=!pca.isPage(topParent);var hasSpaceBelow=fieldPosition.top+listSize.height-(fixed?0:windowScroll.top)<windowSize.height,hasSpaceAbove=fieldPosition.top-(fixed?0:windowScroll.top)>listSize.height;autocomplete.upwards=!hasSpaceBelow&&hasSpaceAbove&&!autocomplete.options.onlyDown;if(autocomplete.upwards){if(autocomplete.options.force){autocomplete.element.style.top=-(listSize.height+fieldSize.height+2)+"px"}else{autocomplete.element.style.top=fieldPosition.top-parentScroll.top-listSize.height+(fixed?windowScroll.top:0)+"px";autocomplete.element.style.left=fieldPosition.left-parentScroll.left+(fixed?windowScroll.left:0)+"px"}}else{if(autocomplete.options.force){autocomplete.element.style.top="auto"}else{autocomplete.element.style.top=fieldPosition.top-parentScroll.top+fieldSize.height+1+(fixed?windowScroll.top:0)+"px";autocomplete.element.style.left=fieldPosition.left-parentScroll.left+(fixed?windowScroll.left:0)+"px"}}if(autocomplete.options.left){autocomplete.element.style.left=parseInt(autocomplete.element.style.left)+parseInt(autocomplete.options.left)+"px"}if(autocomplete.options.top){autocomplete.element.style.top=parseInt(autocomplete.element.style.top)+parseInt(autocomplete.options.top)+"px"}var ownBorderWidth=parseInt(pca.getStyle(autocomplete.element,"borderLeftWidth"))+parseInt(pca.getStyle(autocomplete.element,"borderRightWidth"))||0,preferredWidth=Math.max(pca.getSize(field).width-ownBorderWidth,0);if(!autocomplete.fixedWidth){autocomplete.element.style.minWidth=preferredWidth+"px"}if((document.documentMode&&document.documentMode<=7)||/\bMSIE\s(7|6)/.test(pca.agent)){autocomplete.setWidth(Math.max(preferredWidth,280));autocomplete.element.style.left=(parseInt(autocomplete.element.style.left)||0)-2+"px";autocomplete.element.style.top=(parseInt(autocomplete.element.style.top)||0)-2+"px"}autocomplete.positionField=field;autocomplete.fire("move");return autocomplete};autocomplete.reposition=function(){if(autocomplete.positionField){autocomplete.position(autocomplete.positionField)}return autocomplete};autocomplete.prompt=function(text,position){if(typeof position=="number"){if(position===0){text=" "+text}else{if(position>=text.length){text=text+" ";position++}else{text=text.substring(0,position)+"  "+text.substring(position,text.length);position++}}pca.setValue(autocomplete.field,text);if(autocomplete.field.setSelectionRange){autocomplete.field.focus();autocomplete.field.setSelectionRange(position,position)}else{if(autocomplete.field.createTextRange){var range=autocomplete.field.createTextRange();range.move("character",position);range.select()}}}else{pca.setValue(autocomplete.field,text)}return autocomplete};autocomplete.show=function(){if(!autocomplete.disabled&&!autocomplete.stealth){autocomplete.visible=true;autocomplete.element.style.display="";if(!autocomplete.list.collection.count){if(autocomplete.options.emptyMessage){autocomplete.header.setText(autocomplete.options.emptyMessage).show()}autocomplete.list.hide()}else{if(autocomplete.options.emptyMessage){autocomplete.header.clear().hide()}autocomplete.list.show()}autocomplete.setScroll(0);autocomplete.reposition();autocomplete.fire("show")}return autocomplete};autocomplete.showAll=function(){autocomplete.list.filter("");autocomplete.show()};autocomplete.hide=function(){autocomplete.visible=false;autocomplete.element.style.display="none";autocomplete.fire("hide");return autocomplete};autocomplete.focus=function(field){autocomplete.field=field;autocomplete.focused=true;autocomplete.show();autocomplete.position(field);autocomplete.fire("focus")};autocomplete.blur=function(){autocomplete.focused=false;autocomplete.checkHide();autocomplete.fire("blur")};autocomplete.checkHide=function(){if(autocomplete.visible&&!autocomplete.focused&&!autocomplete.hover){autocomplete.hide()}return autocomplete};autocomplete.handleKey=function(key,event){if(key===27){autocomplete.hide();autocomplete.fire("escape")}else{if(key===17){autocomplete.controlDown=false}else{if(key===8||key===46){autocomplete.filter();autocomplete.fire("delete")}else{if(key!==0&&key<=46&&key!==32){if(autocomplete.visible&&autocomplete.list.navigate(key)){if(event){pca.smash(event)}}else{if(key===38||key===40){autocomplete.filter()}}}else{if(autocomplete.visible){autocomplete.filter()}}}}}autocomplete.fire("keyup",key)};autocomplete.keydown=function(event){event=event||window.event;var key=event.which||event.keyCode;if(key===17){autocomplete.controlDown=true}if(key===9&&autocomplete.options.allowTab){pca.smash(event)}};autocomplete.keyup=function(event){event=event||window.event;var key=event.which||event.keyCode;autocomplete.handleKey(key,event)};autocomplete.keypress=function(event){var key=window.event?window.event.keyCode:event.which;if(autocomplete.visible&&key===13&&autocomplete.list.selectable()){pca.smash(event)}};autocomplete.paste=function(){window.setTimeout(function(){autocomplete.filter();autocomplete.fire("paste")},0)};autocomplete.click=function(f){autocomplete.fire("click",f)};autocomplete.dblclick=function(f){autocomplete.fire("dblclick",f)};autocomplete.change=function(f){autocomplete.fire("change",f)};autocomplete.resize=function(){if(autocomplete.visible){autocomplete.reposition()}};autocomplete.add=function(array,format,callback){autocomplete.list.add(array,format,callback);return autocomplete};autocomplete.clear=function(){autocomplete.list.clear();return autocomplete};autocomplete.setScroll=function(position){autocomplete.list.setScroll(position);return autocomplete};autocomplete.setWidth=function(width){if(typeof width=="number"){width=Math.max(width,220);autocomplete.element.style.width=width+"px";if(document.documentMode&&document.documentMode<=5){width-=2}autocomplete.list.element.style.width=width+"px"}else{autocomplete.element.style.width=width;autocomplete.list.element.style.width=width}autocomplete.fixedWidth=width!=="auto";autocomplete.element.style.minWidth=0;return autocomplete};autocomplete.setHeight=function(height){if(typeof height=="number"){autocomplete.list.element.style.height=height+"px"}else{autocomplete.list.element.style.height=height}return autocomplete};autocomplete.filter=function(term){term=term||pca.getValue(autocomplete.field);if(autocomplete.skipFilter){if(autocomplete.list.collection.match(term).length<autocomplete.list.collection.count){autocomplete.list.fire("filter")}}else{autocomplete.list.filter(term,autocomplete.skipFilter);term&&!autocomplete.list.collection.count&&!autocomplete.skipFilter&&!autocomplete.options.emptyMessage?autocomplete.hide():autocomplete.show()}autocomplete.fire("filter",term);return autocomplete};autocomplete.disable=function(){autocomplete.disabled=true;return autocomplete};autocomplete.enable=function(){autocomplete.disabled=false;return autocomplete};autocomplete.destroy=function(){pca.remove(autocomplete.element);pca.ignore(document,"click",documentClicked);pca.ignore(window,"resize",windowResized);for(var i=0;i<autocomplete.fieldListeners.length;i++){pca.ignore(autocomplete.fieldListeners[i].field,autocomplete.fieldListeners[i].event,autocomplete.fieldListeners[i].action)}};autocomplete.element.appendChild(autocomplete.header.element);autocomplete.element.appendChild(autocomplete.list.element);autocomplete.element.appendChild(autocomplete.footer.element);autocomplete.header.init();autocomplete.footer.init();if(fields){autocomplete.load(fields)}if(autocomplete.options.width){autocomplete.setWidth(autocomplete.options.width)}if(autocomplete.options.height){autocomplete.setHeight(autocomplete.options.height)}if(autocomplete.options.className){pca.addClass(autocomplete.element,autocomplete.options.className)}if(!autocomplete.field){autocomplete.hide()}return autocomplete};pca.Modal=pca.Modal||function(options){var modal=new pca.Eventable(this);modal.options=options||{};modal.element=pca.create("div",{className:"pcamodal"});modal.border=pca.create("div",{className:"pcaborder"});modal.frame=pca.create("div",{className:"pcaframe"});modal.content=pca.create("div",{className:"pcacontent pcatext"});modal.mask=pca.create("div",{className:"pcafullscreen pcamask"});modal.form=[];modal.header={element:pca.create("div",{className:"pcaheader"}),headerText:pca.create("div",{className:"pcatitle"},modal.options.titleStyle||""),init:function(){this.setText(modal.options.title||"")},setContent:function(content){content=content||"";typeof content=="string"?(this.element.innerHTML=content):this.element.appendChild(content);modal.fire("header");return this},setText:function(text){text=text||"";this.element.appendChild(this.headerText);typeof text=="string"?(this.headerText.innerHTML=text):this.headerText.appendChild(text);modal.fire("header");return this},show:function(){this.element.style.display="";modal.fire("header");return this},hide:function(){this.element.style.display="none";modal.fire("header");return this},};modal.footer={element:pca.create("div",{className:"pcafooter"}),setContent:function(content){content=content||"";typeof content=="string"?(this.element.innerHTML=content):this.element.appendChild(content);modal.fire("footer");return this},show:function(){this.element.style.display="";modal.fire("header");return this},hide:function(){this.element.style.display="none";modal.fire("header");return this},};modal.setTitle=function(content){modal.header.setText(content).show()};modal.setContent=function(content){typeof content=="string"?(modal.content.innerHTML=content):modal.content.appendChild(content);modal.fire("change");return modal};function defaultProperties(properties){properties=properties||{};properties.type=properties.type||"text";return properties}modal.addField=function(labelText,properties){properties=defaultProperties(properties);var row=pca.create("div",{className:"pcainputrow"}),input=pca.create(properties.tag||"input",properties),label=pca.create("label",{htmlFor:input.id||"",innerHTML:labelText||"",});row.appendChild(label);row.appendChild(input);modal.setContent(row);modal.form.push({label:labelText,element:input});return input};modal.addHalfFields=function(labelText,firstProperties,secondProperties){firstProperties=defaultProperties(firstProperties);secondProperties=defaultProperties(secondProperties);var row=pca.create("div",{className:"pcainputrow"}),firstInput=pca.create(firstProperties.tag||"input",firstProperties),secondInput=pca.create(secondProperties.tag||"input",secondProperties),label=pca.create("label",{htmlFor:firstInput.id||"",innerHTML:labelText||"",});pca.addClass(firstInput,"pcahalf");pca.addClass(secondInput,"pcahalf");row.appendChild(label);row.appendChild(firstInput);row.appendChild(secondInput);modal.setContent(row);modal.form.push({label:"First "+labelText,element:firstInput});modal.form.push({label:"Second "+labelText,element:secondInput});return[firstInput,secondInput]};modal.addButton=function(labelText,callback,floatRight){var button=pca.create("input",{type:"button",value:labelText,className:"pcabutton",});callback=callback||function(){};function click(){var details={};for(var i=0;i<modal.form.length;i++){details[modal.form[i].label]=pca.getValue(modal.form[i].element)}callback(details)}if(floatRight&&!(document.documentMode&&document.documentMode<=7)){button.style.cssFloat="right"}pca.listen(button,"click",click);modal.footer.setContent(button);return button};modal.centre=function(){var modalSize=pca.getSize(modal.element);modal.element.style.marginTop=-(modalSize.height/2)+"px";modal.element.style.marginLeft=-(modalSize.width/2)+"px";return modal};modal.show=function(){if(!(document.documentMode&&document.documentMode<=5)&&!/\bMSIE\s6/.test(pca.agent)){modal.element.style.display="";modal.mask.style.display="";modal.centre();modal.fire("show")}return modal};modal.hide=function(){modal.element.style.display="none";modal.mask.style.display="none";modal.fire("hide");return modal};modal.clear=function(){while(modal.content.childNodes.length){modal.content.removeChild(modal.content.childNodes[0])}while(modal.footer.element.childNodes.length){modal.footer.element.removeChild(modal.footer.element.childNodes[0])}modal.form=[];modal.fire("clear");return modal};pca.listen(modal.mask,"click",modal.hide);modal.element.appendChild(modal.border);modal.element.appendChild(modal.frame);modal.frame.appendChild(modal.header.element);modal.frame.appendChild(modal.content);modal.frame.appendChild(modal.footer.element);modal.header.init();pca.append(modal.mask);pca.append(modal.element);modal.hide();return modal};pca.Tooltip=pca.Tooltip||function(element,message){var tooltip=new pca.Eventable(this);tooltip.element=pca.create("div",{className:"pcatooltip"});tooltip.background=pca.create("div",{className:"pcabackground"});tooltip.message=pca.create("div",{className:"pcamessage",innerText:message,});tooltip.show=function(){tooltip.element.style.display="";tooltip.position();tooltip.fire("show");return tooltip};tooltip.hide=function(){tooltip.element.style.display="none";tooltip.fire("hide");return tooltip};tooltip.setMessage=function(text){pca.setValue(tooltip.message,text)};tooltip.position=function(){var parentPosition=pca.getPosition(element),parentSize=pca.getSize(element),topParent=pca.getTopOffsetParent(element),messageSize=pca.getSize(tooltip.message),windowSize=pca.getSize(window),windowScroll=pca.getScroll(window),fixed=!pca.isPage(topParent);var top=parentPosition.top-messageSize.height-5+(fixed?windowScroll.top:0),left=parentPosition.left+parentSize.width/2-messageSize.width/2+(fixed?windowScroll.left:0);top=Math.min(top,windowSize.height+windowScroll.top-messageSize.height);top=Math.max(top,0);left=Math.min(left,windowSize.width+windowScroll.left-messageSize.width);left=Math.max(left,0);tooltip.element.style.top=top+"px";tooltip.element.style.left=left+"px"};if((element=pca.getElement(element))){pca.listen(element,"mouseover",tooltip.show);pca.listen(element,"mouseout",tooltip.hide)}tooltip.element.appendChild(tooltip.background);tooltip.element.appendChild(tooltip.message);tooltip.setMessage(message);pca.append(tooltip.element);tooltip.hide();return tooltip};pca.formatLine=pca.formatLine||function(item,format){function property(c,t){var val=(typeof item[c]=="function"?item[c]():item[c])||"";return t==="!"?val.toUpperCase():val}format=format.replace(/\{([^\}]*\{(\w+)([^\}\w])?\}[^\}]*)\}/g,function(m,f,c,t){var val=property(c,t);return val?f.replace(/\{(\w+)([^\}\w])?\}/g,val):""});return format.replace(/\{(\w+)([^\}\w])?\}/g,function(m,c,t){return property(c,t)})};pca.formatTag=pca.formatTag||function(line){return line?pca.replaceList(pca.replaceList(pca.removeHtml(line.toUpperCase()),pca.diacritics),pca.synonyms):""};pca.formatTagWords=pca.formatTagWords||function(line){return pca.formatTag(line).split(" ")};pca.formatCamel=pca.formatCamel||function(line,separator){separator=separator||" ";function separate(m,b,a){return b+separator+a}line=line.replace(/([a-z])([A-Z0-9])/g,separate);line=line.replace(/([0-9])([A-Z])/g,separate);line=line.replace(/([A-Z])([A-Z][a-z])/g,separate);return line};pca.replaceList=pca.replaceList||function(line,list){for(var i=0;i<list.length;i++){line=line.toString().replace(list[i].r,list[i].w)}return line};pca.removeHtml=pca.removeHtml||function(line){return line.replace(/<(?:.|\s)*?>+/g,"")};pca.escapeHtml=pca.escapeHtml||function(line){return pca.replaceList(line,pca.hypertext)};pca.validId=pca.validId||function(line){return/[a-z0-9\-_:\.\[\]]+/gi.exec(line)};pca.trimSpaces=pca.trimSpaces||function(line){return line.replace(/^\s+|\s(?=\s)|\s$/g,"")};pca.tidy=pca.tidy||function(line,symbol){symbol=symbol.replace("\\","\\\\");var rx=new RegExp("^"+symbol+"+|"+symbol+"(?="+symbol+")|"+symbol+"$","gi");return line.replace(rx,"")};pca.getText=pca.getText||function(line){return/[a-zA-Z][a-zA-Z\s]+[a-zA-Z]/.exec(line)};pca.getNumber=pca.getNumber||function(line){return/\d+/.exec(line)};pca.parseJSON=pca.parseJSON||function(text){if(text&&/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){return typeof JSON!="undefined"?JSON.parse(text):eval(text)}return{}};pca.parseJSONDate=pca.parseJSONDate||function(text){return new Date(parseInt(pca.getNumber(text)))};pca.containsWord=pca.containsWord||function(text,word){var rx=new RegExp("\\b"+word+"\\b","gi");return rx.test(text)};pca.removeWord=pca.removeWord||function(text,word){var rx=new RegExp("\\s?\\b"+word+"\\b","gi");return text.replace(rx,"")};pca.merge=pca.merge||function(source,destination){for(var i in source){if(!destination[i]){destination[i]=source[i]}}return destination};pca.getElement=pca.getElement||function(reference,base){if(!reference){return null}if(typeof reference.nodeType=="number"){return reference}if(typeof reference=="string"){base=pca.getElement(base)||document;var byId=base.getElementById?base.getElementById(reference):null;if(byId){return byId}var byName=base.getElementsByName?base.getElementsByName(reference):null;if(byName.length){return byName[0]}}return pca.fuzzyMatch?pca.getElementByRegex(reference,base):null};pca.getElementByRegex=pca.getElementByRegex||function(regex,base){if(typeof regex=="string"){try{regex=new RegExp(regex)}catch(e){return null}}if(regex&&typeof regex=="object"&&regex.constructor===RegExp){base=pca.getElement(base)||document;for(var t=0;t<pca.fuzzyTags.length;t++){var elements=base.getElementsByTagName(pca.fuzzyTags[t]);for(var i=0;i<elements.length;i++){var elem=elements[i];if(elem.id&&regex.test(elem.id)){return elem}}}}return null};pca.getValue=pca.getValue||function(element){if((element=pca.getElement(element))){if(element.tagName==="INPUT"||element.tagName==="TEXTAREA"){if(element.type==="checkbox"){return element.checked}else{if(element.type==="radio"){var group=document.getElementsByName(element.name);for(var r=0;r<group.length;r++){if(group[r].checked){return group[r].value}}}else{return element.value}}}if(element.tagName==="SELECT"){if(element.selectedIndex<0){return""}var selectedOption=element.options[element.selectedIndex];return selectedOption.value||selectedOption.text||""}if(element.tagName==="DIV"||element.tagName==="SPAN"||element.tagName==="TD"||element.tagName==="LABEL"){return element.innerHTML}}return""};pca.setValue=pca.setValue||function(element,value){if((value||value==="")&&(element=pca.getElement(element))){var valueText=value.toString(),valueTextMatch=pca.formatTag(valueText);if(element.tagName==="INPUT"){if(element.type==="checkbox"){element.checked=(typeof value=="boolean"&&value)||valueTextMatch==="TRUE"}else{if(element.type==="radio"){var group=document.getElementsByName(element.name);for(var r=0;r<group.length;r++){if(pca.formatTag(group[r].value)===valueTextMatch){group[r].checked=true;return}}}else{element.value=pca.tidy(valueText.replace(/\\n|\n/gi,", "),", ")}}}else{if(element.tagName==="TEXTAREA"){element.value=valueText.replace(/\\n|\n/gi,"\n")}else{if(element.tagName==="SELECT"){for(var s=0;s<element.options.length;s++){if(pca.formatTag(element.options[s].value)===valueTextMatch||pca.formatTag(element.options[s].text)===valueTextMatch){element.selectedIndex=s;return}}}else{if(element.tagName==="DIV"||element.tagName==="SPAN"||element.tagName==="TD"||element.tagName==="LABEL"){element.innerHTML=valueText.replace(/\\n|\n/gi,"<br/>")}}}}}};pca.inputField=pca.inputField||function(element){if((element=pca.getElement(element))){return(element.tagName&&(element.tagName==="INPUT"||element.tagName==="TEXTAREA")&&element.type&&(element.type==="text"||element.type==="search"||element.type==="email"||element.type==="textarea"||element.type==="number"||element.type==="tel"))}return false};pca.selectList=pca.selectList||function(element){if((element=pca.getElement(element))){return element.tagName&&element.tagName==="SELECT"}return false};pca.getSelectedItem=pca.getSelectedItem||function(element){if((element=pca.getElement(element))&&element.tagName==="SELECT"&&element.selectedIndex>=0){return element.options[element.selectedIndex]}return null};pca.checkBox=pca.checkBox||function(element){if((element=pca.getElement(element))){return(element.tagName&&element.tagName==="INPUT"&&element.type&&element.type==="checkbox")}return false};pca.clear=pca.clear||function(element){pca.setValue(element,"");return pca};pca.getPosition=pca.getPosition||function(element){var empty={left:0,top:0};if((element=pca.getElement(element))){if(!element.tagName){return empty}if(typeof element.getBoundingClientRect!="undefined"){var bb=element.getBoundingClientRect(),fixed=!pca.isPage(pca.getTopOffsetParent(element)),pageScroll=pca.getScroll(window),parentScroll=pca.getParentScroll(element);return{left:bb.left+parentScroll.left+(fixed?0:pageScroll.left),top:bb.top+parentScroll.top+(fixed?0:pageScroll.top),}}var x=0,y=0;do{x+=element.offsetLeft;y+=element.offsetTop}while((element=element.offsetParent));return{left:x,top:y}}return empty};pca.isPage=pca.isPage||function(element){return(element===window||element===document||element===document.body)};pca.getScroll=pca.getScroll||function(element){return{left:parseInt(element.scrollX||element.scrollLeft,10)||(pca.isPage(element)?parseInt(document.documentElement.scrollLeft)||0:0),top:parseInt(element.scrollY||element.scrollTop,10)||(pca.isPage(element)?parseInt(document.documentElement.scrollTop)||0:0),}};pca.getSize=pca.getSize||function(element){return{height:element.offsetHeight||element.innerHeight||(pca.isPage(element)?document.documentElement.clientHeight||document.body.clientHeight:0),width:element.offsetWidth||element.innerWidth||(pca.isPage(element)?document.documentElement.clientWidth||document.body.clientWidth:0),}};pca.getParentScroll=pca.getParentScroll||function(element){var empty={left:0,top:0};if((element=pca.getElement(element))){if(!element.tagName){return empty}if(!(element=element.parentNode)){return empty}var x=0,y=0;do{if(pca.isPage(element)){break}x+=parseInt(element.scrollLeft)||0;y+=parseInt(element.scrollTop)||0}while((element=element.parentNode));return{left:x,top:y}}return empty};pca.getTopOffsetParent=pca.getTopOffsetParent||function(element){while(element.offsetParent){element=element.offsetParent;if(pca.getStyle(element,"position")==="fixed"){break}}return element};pca.getStyle=pca.getStyle||function(element,property){return(((window.getComputedStyle?window.getComputedStyle(element):element.currentStyle)||{})[property]||"")};pca.addClass=pca.addClass||function(element,className){if((element=pca.getElement(element))){if(!pca.containsWord(element.className||"",className)){element.className+=(element.className?" ":"")+className}}};pca.removeClass=pca.removeClass||function(element,className){if((element=pca.getElement(element))){element.className=pca.removeWord(element.className,className)}};pca.setAttribute=pca.setAttribute||function(element,attribute,value){if((element=pca.getElement(element))){element.setAttribute(attribute,value)}};pca.setAttributes=pca.setAttributes||function(element,attributes){if((element=pca.getElement(element))){for(var i in attributes){element.setAttribute(i,attributes[i])}}};pca.applyStyleFixes=pca.applyStyleFixes||function(selectorText,fixes){for(var s=0;s<document.styleSheets.length;s++){var sheet=document.styleSheets[s],rules=[];try{rules=sheet.rules||sheet.cssRules||[]}catch(e){}for(var r=0;r<rules.length;r++){var rule=rules[r];if(rule.selectorText.toLowerCase()===selectorText){for(var f in fixes){rule.style[f]=fixes[f]}}}}pca.styleFixes.push({selectorText:selectorText,fixes:fixes})};pca.reapplyStyleFixes=pca.reapplyStyleFixes||function(){var fixesList=pca.styleFixes;pca.styleFixes=[];for(var i=0;i<fixesList.length;i++){pca.applyStyleFixes(fixesList[i].selectorText,fixesList[i].fixes)}};pca.createStyleSheet=pca.createStyleSheet||function(cssText){if(document.createStyleSheet){document.createStyleSheet().cssText=cssText}else{document.head.appendChild(pca.create("style",{type:"text/css",innerHTML:cssText}))}};pca.create=pca.create||function(tag,properties,cssText){var elem=document.createElement(tag);for(var i in properties||{}){elem[i]=properties[i]}if(cssText){elem.style.cssText=cssText}return elem};pca.append=pca.append||function(element){if(!pca.container){pca.container=pca.create("div",{className:"pca"});document.body.appendChild(pca.container)}pca.container.appendChild(element)};pca.remove=pca.remove||function(element){if(element&&element.parentNode&&element.parentNode===pca.container){pca.container.removeChild(element)}};pca.listen=pca.listen||function(target,event,action,capture){if(window.addEventListener){target.addEventListener(event,action,capture)}else{target.attachEvent("on"+event,action)}};pca.fire=pca.fire||function(target,event){if(document.createEvent){var e=document.createEvent("HTMLEvents");e.initEvent(event,true,true);return !target.dispatchEvent(e)}else{return target.fireEvent("on"+event,document.createEventObject())}};pca.ignore=pca.ignore||function(target,event,action){if(window.removeEventListener){target.removeEventListener(event,action)}else{target.detachEvent("on"+event,action)}};pca.smash=pca.smash||function(event){var e=event||window.event;e.stopPropagation?e.stopPropagation():(e.cancelBubble=true);e.preventDefault?e.preventDefault():(e.returnValue=false)};pca.debug=pca.debug||function(message){if(typeof console!="undefined"&&console.debug){console.debug(message)}};pca.debounce=pca.debounce||function(func,wait,immediate){var timeout;return function(){var context=this;var args=arguments;if(arguments&&arguments.length>0){args=[{target:arguments[0].target||arguments[0].srcElement}]}var later=function(){timeout=null;if(!immediate){func.apply(context,args)}};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow){func.apply(context,args)}}};pca.defined=pca.defined||function(func){return typeof func=="function"};pca.fnDefined=pca.defined;pca.getLabel=pca.getLabel||function(elementNameOrId){var labels=document.getElementsByTagName("LABEL");for(var i=0;i<labels.length;i++){if(labels[i].htmlFor!==""){var elem=pca.getElement(labels[i].htmlFor);if((elem&&elem.name===elementNameOrId)||elem.id===elementNameOrId){return labels[i]}}}return null};pca.getReferenceToElement=pca.getReferenceToElement||function(element){return typeof element=="string"?element:element?element.id||element.name||"":""};pca.extend=pca.extend||function(obj){for(var i=1;i<arguments.length;i++){for(var key in arguments[i]){if(arguments[i].hasOwnProperty(key)){obj[key]=arguments[i][key]}}}return obj};pca.getStyle=pca.getStyle||function(element,styleProperty){var camelize=function(str){return str.replace(/\-(\w)/g,function(str,letter){return letter.toUpperCase()})};if(element.currentStyle){return element.currentStyle[camelize(styleProperty)]}else{if(document.defaultView&&document.defaultView.getComputedStyle){return document.defaultView.getComputedStyle(element,null).getPropertyValue(styleProperty)}else{return element.style[camelize(styleProperty)]}}};pca.supports=pca.supports||function(checkType){switch(checkType){case"reverseGeo":return(document.location.protocol=="https:"&&window.navigator&&window.navigator.geolocation)}return false};pca.guid=pca.guid||(function(){function s4(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return function(){return(s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4())}})();pca.sessionId=pca.sessionId||pca.guid();checkDocumentLoad()})(window);(function(){var a=(window.pca=window.pca||{});a.countries=[{iso2:"AF",iso3:"AFG",name:"Afghanistan",name_fr:"Afghanistan",flag:1,},{iso2:"AX",iso3:"ALA",name:"Åland",name_fr:"Åland(les Îles)",flag:220,},{iso2:"AL",iso3:"ALB",name:"Albania",name_fr:"Albanie",alternates:["Shqipëria"],flag:2,},{iso2:"DZ",iso3:"DZA",name:"Algeria",name_fr:"Algérie",flag:3},{iso2:"AS",iso3:"ASM",name:"American Samoa",name_fr:"Samoa américaines",flag:4,},{iso2:"AD",iso3:"AND",name:"Andorra",name_fr:"Andorre",flag:5},{iso2:"AO",iso3:"AGO",name:"Angola",name_fr:"Angola",flag:6},{iso2:"AI",iso3:"AIA",name:"Anguilla",name_fr:"Anguilla",flag:7},{iso2:"AQ",iso3:"ATA",name:"Antarctica",name_fr:"Antarctique",flag:0,},{iso2:"AG",iso3:"ATG",name:"Antigua and Barbuda",name_fr:"Antigua-et-Barbuda",flag:8,},{iso2:"AR",iso3:"ARG",name:"Argentina",name_fr:"Argentine",flag:9,},{iso2:"AM",iso3:"ARM",name:"Armenia",name_fr:"Arménie",flag:10},{iso2:"AW",iso3:"ABW",name:"Aruba",name_fr:"Aruba",flag:11},{iso2:"AU",iso3:"AUS",name:"Australia",name_fr:"Australie",flag:12,},{iso2:"AT",iso3:"AUT",name:"Austria",name_fr:"Autriche",alternates:["Österreich"],flag:13,},{iso2:"AZ",iso3:"AZE",name:"Azerbaijan",name_fr:"Azerbaïdjan",flag:14,},{iso2:"BS",iso3:"BHS",name:"Bahamas",name_fr:"Bahamas",flag:15},{iso2:"BH",iso3:"BHR",name:"Bahrain",name_fr:"Bahreïn",flag:16},{iso2:"BD",iso3:"BGD",name:"Bangladesh",name_fr:"Bangladesh",flag:17,},{iso2:"BB",iso3:"BRB",name:"Barbados",name_fr:"Barbade",flag:18},{iso2:"BY",iso3:"BLR",name:"Belarus",name_fr:"Bélarus",flag:19},{iso2:"BE",iso3:"BEL",name:"Belgium",name_fr:"Belgique",alternates:["België"],flag:20,},{iso2:"BZ",iso3:"BLZ",name:"Belize",name_fr:"Belize",flag:21},{iso2:"BJ",iso3:"BEN",name:"Benin",name_fr:"Bénin",flag:22},{iso2:"BM",iso3:"BMU",name:"Bermuda",name_fr:"Bermudes",flag:23},{iso2:"BT",iso3:"BTN",name:"Bhutan",name_fr:"Bhoutan",flag:24},{iso2:"BO",iso3:"BOL",name:"Bolivia",name_fr:"Bolivie, l'État plurinational de la",flag:25,},{iso2:"BQ",iso3:"BES",name:"Bonaire, Sint Eustatius and Saba",name_fr:"Bonaire, Saint-Eustache et Saba",flag:0,},{iso2:"BA",iso3:"BIH",name:"Bosnia and Herzegovina",name_fr:"Bosnie-Herzégovine",alternates:["Bosna i Hercegovina"],flag:26,},{iso2:"BW",iso3:"BWA",name:"Botswana",name_fr:"Botswana",flag:27,},{iso2:"BV",iso3:"BVT",name:"Bouvet Island",name_fr:"Bouvet (l'Île)",flag:0,},{iso2:"BR",iso3:"BRA",name:"Brazil",name_fr:"Brésil",alternates:["Brasil"],flag:28,},{iso2:"IO",iso3:"IOT",name:"British Indian Ocean Territory",name_fr:"Indien (le Territoire britannique de l'océan)",flag:29,},{iso2:"VG",iso3:"VGB",name:"British Virgin Islands",name_fr:"Vierges britanniques (les Îles)",flag:30,},{iso2:"BN",iso3:"BRN",name:"Brunei",name_fr:"Brunei",flag:0},{iso2:"BG",iso3:"BGR",name:"Bulgaria",name_fr:"Bulgarie",flag:31,},{iso2:"BF",iso3:"BFA",name:"Burkina Faso",name_fr:"Burkina Faso",flag:32,},{iso2:"MM",iso3:"MMR",name:"Burma",name_fr:"Myanmar",flag:33},{iso2:"BI",iso3:"BDI",name:"Burundi",name_fr:"Burundi",flag:34},{iso2:"KH",iso3:"KHM",name:"Cambodia",name_fr:"Cambodge",flag:35,},{iso2:"CM",iso3:"CMR",name:"Cameroon",name_fr:"Cameroun",flag:36,},{iso2:"CA",iso3:"CAN",name:"Canada",name_fr:"Canada",flag:37},{iso2:"CV",iso3:"CPV",name:"Cape Verde",name_fr:"Cabo Verde",flag:38,},{iso2:"KY",iso3:"CYM",name:"Cayman Islands",name_fr:"Caïmans (les Îles)",flag:39,},{iso2:"CF",iso3:"CAF",name:"Central African Republic",name_fr:"République centrafricaine",flag:40,},{iso2:"TD",iso3:"TCD",name:"Chad",name_fr:"Tchad",flag:41},{iso2:"CL",iso3:"CHL",name:"Chile",name_fr:"Chili",flag:42},{iso2:"CN",iso3:"CHN",name:"China",name_fr:"Chine",flag:43},{iso2:"CX",iso3:"CXR",name:"Christmas Island",name_fr:"Christmas (l'Île)",flag:0,},{iso2:"CC",iso3:"CCK",name:"Cocos (Keeling) Islands",name_fr:"Cocos (les Îles)/ Keeling (les Îles)",flag:0,},{iso2:"CO",iso3:"COL",name:"Colombia",name_fr:"Colombie",flag:44,},{iso2:"KM",iso3:"COM",name:"Comoros",name_fr:"Comores",flag:45},{iso2:"CG",iso3:"COG",name:"Congo",name_fr:"Congo",flag:0},{iso2:"CD",iso3:"COD",name:"Congo (Democratic Republic)",name_fr:"Congo (la République démocratique du)",flag:46,},{iso2:"CK",iso3:"COK",name:"Cook Islands",name_fr:"Cook (les Îles)",flag:47,},{iso2:"CR",iso3:"CRI",name:"Costa Rica",name_fr:"Costa Rica",flag:48,},{iso2:"HR",iso3:"HRV",name:"Croatia",name_fr:"Croatie",alternates:["Hrvatska"],flag:50,},{iso2:"CU",iso3:"CUB",name:"Cuba",name_fr:"Cuba",flag:51},{iso2:"CW",iso3:"CUW",name:"Curaçao",name_fr:"Curaçao",flag:0},{iso2:"CY",iso3:"CYP",name:"Cyprus",name_fr:"Chypre",flag:52},{iso2:"CZ",iso3:"CZE",name:"Czechia",name_fr:"tchèque (la République)",alternates:["Ceská republika"],flag:53,},{iso2:"DK",iso3:"DNK",name:"Denmark",name_fr:"Danemark",flag:54},{iso2:"DJ",iso3:"DJI",name:"Djibouti",name_fr:"Djibouti",flag:55,},{iso2:"DM",iso3:"DMA",name:"Dominica",name_fr:"Dominique",flag:56,},{iso2:"DO",iso3:"DOM",name:"Dominican Republic",name_fr:"dominicaine (la République)",flag:57,},{iso2:"TL",iso3:"TLS",name:"East Timor",name_fr:"Timor-Leste",flag:0,},{iso2:"EC",iso3:"ECU",name:"Ecuador",name_fr:"Équateur",flag:61},{iso2:"EG",iso3:"EGY",name:"Egypt",name_fr:"Égypte",flag:58},{iso2:"SV",iso3:"SLV",name:"El Salvador",name_fr:"Salvador",flag:59,},{iso2:"GQ",iso3:"GNQ",name:"Equatorial Guinea",name_fr:"Guinée équatoriale",flag:62,},{iso2:"ER",iso3:"ERI",name:"Eritrea",name_fr:"Érythrée",flag:63},{iso2:"EE",iso3:"EST",name:"Estonia",name_fr:"Estonie",alternates:["Eesti"],flag:64,},{iso2:"SZ",iso3:"SWZ",name:"Eswatini",name_fr:"Eswatini",flag:191,},{iso2:"ET",iso3:"ETH",name:"Ethiopia",name_fr:"Éthiopie",flag:65,},{iso2:"FK",iso3:"FLK",name:"Falkland Islands",name_fr:"Falkland (les Îles)/Malouines (les Îles)",flag:66,},{iso2:"FO",iso3:"FRO",name:"Faroe Islands",name_fr:"Féroé (les Îles)",flag:67,},{iso2:"FJ",iso3:"FJI",name:"Fiji",name_fr:"Fidji",flag:68},{iso2:"FI",iso3:"FIN",name:"Finland",name_fr:"Finlande",alternates:["Suomi"],flag:69,},{iso2:"FR",iso3:"FRA",name:"France",name_fr:"France",flag:70},{iso2:"GF",iso3:"GUF",name:"French Guiana",name_fr:"Guyane française ",flag:0,},{iso2:"PF",iso3:"PYF",name:"French Polynesia",name_fr:"Polynésie française",flag:71,},{iso2:"TF",iso3:"ATF",name:"French Southern Territories",name_fr:"Terres australes françaises",flag:0,},{iso2:"GA",iso3:"GAB",name:"Gabon",name_fr:"Gabon",flag:72},{iso2:"GM",iso3:"GMB",name:"Gambia",name_fr:"Gambie",flag:73},{iso2:"GE",iso3:"GEO",name:"Georgia",name_fr:"Géorgie",flag:74},{iso2:"DE",iso3:"DEU",name:"Germany",name_fr:"Allemagne",alternates:["Deutschland"],flag:75,},{iso2:"GH",iso3:"GHA",name:"Ghana",name_fr:"Ghana",flag:76},{iso2:"GI",iso3:"GIB",name:"Gibraltar",name_fr:"Gibraltar",flag:77,},{iso2:"GR",iso3:"GRC",name:"Greece",name_fr:"Grèce",alternates:["Hellas"],flag:79,},{iso2:"GL",iso3:"GRL",name:"Greenland",name_fr:"Groenland",flag:80,},{iso2:"GD",iso3:"GRD",name:"Grenada",name_fr:"Grenade",flag:81},{iso2:"GP",iso3:"GLP",name:"Guadeloupe",name_fr:"Guadeloupe",flag:0,},{iso2:"GU",iso3:"GUM",name:"Guam",name_fr:"Guam",flag:82},{iso2:"GT",iso3:"GTM",name:"Guatemala",name_fr:"Guatemala",flag:83,},{iso2:"GG",iso3:"GGY",name:"Guernsey",name_fr:"Guernesey",flag:84,},{iso2:"GN",iso3:"GIN",name:"Guinea",name_fr:"Guinée",flag:85},{iso2:"GW",iso3:"GNB",name:"Guinea-Bissau",name_fr:"Guinée-Bissau",flag:86,},{iso2:"GY",iso3:"GUY",name:"Guyana",name_fr:"Guyana",flag:87},{iso2:"HT",iso3:"HTI",name:"Haiti",name_fr:"Haïti",flag:88},{iso2:"HM",iso3:"HMD",name:"Heard Island and McDonald Islands",name_fr:"Heard-et-Îles MacDonald (l'Île)",flag:0,},{iso2:"HN",iso3:"HND",name:"Honduras",name_fr:"Honduras",flag:89,},{iso2:"HK",iso3:"HKG",name:"Hong Kong",name_fr:"Hong Kong",flag:90,},{iso2:"HU",iso3:"HUN",name:"Hungary",name_fr:"Hongrie",alternates:["Magyarország"],flag:91,},{iso2:"IS",iso3:"ISL",name:"Iceland",name_fr:"Islande",alternates:["Ísland"],flag:92,},{iso2:"IN",iso3:"IND",name:"India",name_fr:"Inde",flag:93},{iso2:"ID",iso3:"IDN",name:"Indonesia",name_fr:"Indonésie",flag:94,},{iso2:"IR",iso3:"IRN",name:"Iran",name_fr:"Iran (République Islamique d')",flag:95,},{iso2:"IQ",iso3:"IRQ",name:"Iraq",name_fr:"Iraq",flag:96},{iso2:"IE",iso3:"IRL",name:"Ireland",name_fr:"Irlande",flag:97},{iso2:"IM",iso3:"IMN",name:"Isle of Man",name_fr:"Île de Man",flag:98,},{iso2:"IL",iso3:"ISR",name:"Israel",name_fr:"Israël",flag:99},{iso2:"IT",iso3:"ITA",name:"Italy",name_fr:"Italie",alternates:["Italia"],flag:100,},{iso2:"CI",iso3:"CIV",name:"Ivory Coast",name_fr:"Côte d'Ivoire",flag:49,},{iso2:"JM",iso3:"JAM",name:"Jamaica",name_fr:"Jamaïque",flag:101,},{iso2:"JP",iso3:"JPN",name:"Japan",name_fr:"Japon",flag:102},{iso2:"JE",iso3:"JEY",name:"Jersey",name_fr:"Jersey",flag:103},{iso2:"JO",iso3:"JOR",name:"Jordan",name_fr:"Jordanie",flag:104},{iso2:"KZ",iso3:"KAZ",name:"Kazakhstan",name_fr:"Kazakhstan",flag:105,},{iso2:"KE",iso3:"KEN",name:"Kenya",name_fr:"Kenya",flag:106},{iso2:"KI",iso3:"KIR",name:"Kiribati",name_fr:"Kiribati",flag:107,},{iso2:"KP",iso3:"PRK",name:"Korea (North)",name_fr:"Corée (la République populaire démocratique de )",flag:149,},{iso2:"KR",iso3:"KOR",name:"Korea (South)",name_fr:"Corée (la République de)",flag:185,},{iso2:"KW",iso3:"KWT",name:"Kuwait",name_fr:"Koweït",flag:108},{iso2:"KG",iso3:"KGZ",name:"Kyrgyzstan",name_fr:"Kirghizistan",flag:109,},{iso2:"LA",iso3:"LAO",name:"Laos",name_fr:"Lao, République démocratique populaire",flag:0,},{iso2:"LV",iso3:"LVA",name:"Latvia",name_fr:"Lettonie",flag:110},{iso2:"LB",iso3:"LBN",name:"Lebanon",name_fr:"Liban",flag:111},{iso2:"LS",iso3:"LSO",name:"Lesotho",name_fr:"Lesotho",flag:112},{iso2:"LR",iso3:"LBR",name:"Liberia",name_fr:"Libéria",flag:113},{iso2:"LY",iso3:"LBY",name:"Libya",name_fr:"Libye",flag:114},{iso2:"LI",iso3:"LIE",name:"Liechtenstein",name_fr:"Liechtenstein",flag:115,},{iso2:"LT",iso3:"LTU",name:"Lithuania",name_fr:"Lituanie",alternates:["Lietuva"],flag:116,},{iso2:"LU",iso3:"LUX",name:"Luxembourg",name_fr:"Luxembourg",flag:117,},{iso2:"MO",iso3:"MAC",name:"Macao",name_fr:"Macao",flag:118},{iso2:"MK",iso3:"MKD",name:"Macedonia",name_fr:"Macédoine (l'ex-République yougoslave de)",alternates:["Poraneshna Jugoslovenska Republika Makedonija"],flag:119,},{iso2:"MG",iso3:"MDG",name:"Madagascar",name_fr:"Madagascar",flag:120,},{iso2:"MW",iso3:"MWI",name:"Malawi",name_fr:"Malawi",flag:121},{iso2:"MY",iso3:"MYS",name:"Malaysia",name_fr:"Malaisie",flag:122,},{iso2:"MV",iso3:"MDV",name:"Maldives",name_fr:"Maldives",flag:123,},{iso2:"ML",iso3:"MLI",name:"Mali",name_fr:"Mali",flag:124},{iso2:"MT",iso3:"MLT",name:"Malta",name_fr:"Malte",flag:125},{iso2:"MH",iso3:"MHL",name:"Marshall Islands",name_fr:"Marshall (Îles)",flag:126,},{iso2:"MQ",iso3:"MTQ",name:"Martinique",name_fr:"Martinique",flag:127,},{iso2:"MR",iso3:"MRT",name:"Mauritania",name_fr:"Mauritanie",flag:128,},{iso2:"MU",iso3:"MUS",name:"Mauritius",name_fr:"Maurice",flag:129,},{iso2:"YT",iso3:"MYT",name:"Mayotte",name_fr:"Mayotte",flag:0},{iso2:"MX",iso3:"MEX",name:"Mexico",name_fr:"Mexique",flag:130},{iso2:"FM",iso3:"FSM",name:"Micronesia",name_fr:"Micronésie, États fédérés de",flag:131,},{iso2:"MD",iso3:"MDA",name:"Moldova",name_fr:"Moldova , République de",flag:132,},{iso2:"MC",iso3:"MCO",name:"Monaco",name_fr:"Monaco",flag:133},{iso2:"MN",iso3:"MNG",name:"Mongolia",name_fr:"Mongolie",flag:134,},{iso2:"ME",iso3:"MNE",name:"Montenegro",name_fr:"Monténégro",alternates:["Crna Gora"],flag:0,},{iso2:"MS",iso3:"MSR",name:"Montserrat",name_fr:"Montserrat",flag:135,},{iso2:"MA",iso3:"MAR",name:"Morocco",name_fr:"Maroc",flag:136},{iso2:"MZ",iso3:"MOZ",name:"Mozambique",name_fr:"Mozambique",flag:137,},{iso2:"NA",iso3:"NAM",name:"Namibia",name_fr:"Namibie",flag:138},{iso2:"NR",iso3:"NRU",name:"Nauru",name_fr:"Nauru",flag:139},{iso2:"NP",iso3:"NPL",name:"Nepal",name_fr:"Népal",flag:140},{iso2:"NL",iso3:"NLD",name:"Netherlands",name_fr:"Pays-Bas",alternates:["Holland"],flag:141,},{iso2:"NC",iso3:"NCL",name:"New Caledonia",name_fr:"Nouvelle-Calédonie",flag:0,},{iso2:"NZ",iso3:"NZL",name:"New Zealand",name_fr:"Nouvelle-Zélande",flag:142,},{iso2:"NI",iso3:"NIC",name:"Nicaragua",name_fr:"Nicaragua",flag:143,},{iso2:"NE",iso3:"NER",name:"Niger",name_fr:"Niger",flag:144},{iso2:"NG",iso3:"NGA",name:"Nigeria",name_fr:"Nigéria",flag:145},{iso2:"NU",iso3:"NIU",name:"Niue",name_fr:"Niue",flag:146},{iso2:"NF",iso3:"NFK",name:"Norfolk Island",name_fr:"Norfolk (l'Île)",flag:147,},{iso2:"MP",iso3:"MNP",name:"Northern Mariana Islands",name_fr:"Mariannes du Nord (les Îles)",flag:148,},{iso2:"NO",iso3:"NOR",name:"Norway",name_fr:"Norvège",flag:150},{iso2:"OM",iso3:"OMN",name:"Oman",name_fr:"Oman",flag:151},{iso2:"PK",iso3:"PAK",name:"Pakistan",name_fr:"Pakistan",flag:152,},{iso2:"PW",iso3:"PLW",name:"Palau",name_fr:"Palaos",flag:153},{iso2:"PS",iso3:"PSE",name:"Palestine",name_fr:"Palestine, État de",flag:0,},{iso2:"PA",iso3:"PAN",name:"Panama",name_fr:"Panama",flag:154},{iso2:"PG",iso3:"PNG",name:"Papua New Guinea",name_fr:"Papouasie-Nouvelle-Guinée",flag:155,},{iso2:"PY",iso3:"PRY",name:"Paraguay",name_fr:"Paraguay",flag:156,},{iso2:"PE",iso3:"PER",name:"Peru",name_fr:"Pérou",flag:157},{iso2:"PH",iso3:"PHL",name:"Philippines",name_fr:"Philippines",flag:158,},{iso2:"PN",iso3:"PCN",name:"Pitcairn",name_fr:"Pitcairn",flag:0},{iso2:"PL",iso3:"POL",name:"Poland",name_fr:"Pologne",alternates:["Polska"],flag:159,},{iso2:"PT",iso3:"PRT",name:"Portugal",name_fr:"Portugal",flag:160,},{iso2:"PR",iso3:"PRI",name:"Puerto Rico",name_fr:"Porto Rico",flag:161,},{iso2:"QA",iso3:"QAT",name:"Qatar",name_fr:"Qatar",flag:162},{iso2:"RE",iso3:"REU",name:"Réunion",name_fr:"Réunion",flag:0},{iso2:"RO",iso3:"ROU",name:"Romania",name_fr:"Roumanie",alternates:["România"],flag:163,},{iso2:"RU",iso3:"RUS",name:"Russia",name_fr:"Russie (la Fédération de)",alternates:["Rossiya"],flag:164,},{iso2:"RW",iso3:"RWA",name:"Rwanda",name_fr:"Rwanda",flag:165},{iso2:"MF",iso3:"MAF",name:"Saint Martin (French)",name_fr:"Saint-Martin (partie française)",flag:0,},{iso2:"WS",iso3:"WSM",name:"Samoa",name_fr:"Samoa",flag:171},{iso2:"SM",iso3:"SMR",name:"San Marino",name_fr:"Saint-Marin",flag:172,},{iso2:"ST",iso3:"STP",name:"Sao Tome and Principe",name_fr:"Sao Tomé-et-Principe",flag:173,},{iso2:"SA",iso3:"SAU",name:"Saudi Arabia",name_fr:"Arabie saoudite",flag:174,},{iso2:"SN",iso3:"SEN",name:"Senegal",name_fr:"Sénégal",flag:175},{iso2:"RS",iso3:"SRB",name:"Serbia",name_fr:"Serbie",alternates:["Srbija"],flag:0,},{iso2:"SC",iso3:"SYC",name:"Seychelles",name_fr:"Seychelles",flag:176,},{iso2:"SL",iso3:"SLE",name:"Sierra Leone",name_fr:"Sierra Leone",flag:177,},{iso2:"SG",iso3:"SGP",name:"Singapore",name_fr:"Singapour",flag:178,},{iso2:"SX",iso3:"SXM",name:"Sint Maarten (Dutch)",name_fr:"Saint-Martin (partie néerlandaise)",flag:0,},{iso2:"SK",iso3:"SVK",name:"Slovakia",name_fr:"Slovaquie",alternates:["Slovenská republika"],flag:179,},{iso2:"SI",iso3:"SVN",name:"Slovenia",name_fr:"Slovénie",alternates:["Slovenija"],flag:180,},{iso2:"SB",iso3:"SLB",name:"Solomon Islands",name_fr:"Salomon (Îles)",flag:181,},{iso2:"SO",iso3:"SOM",name:"Somalia",name_fr:"Somalie",flag:182},{iso2:"ZA",iso3:"ZAF",name:"South Africa",name_fr:"Afrique du Sud",flag:183,},{iso2:"GS",iso3:"SGS",name:"South Georgia and the South Sandwich Islands",name_fr:"Géorgie du Sud-et-les Îles Sandwich du Sud",flag:184,},{iso2:"SS",iso3:"SSD",name:"South Sudan ",name_fr:"Soudan du Sud",flag:0,},{iso2:"ES",iso3:"ESP",name:"Spain",name_fr:"Espagne",alternates:["España"],flag:186,},{iso2:"LK",iso3:"LKA",name:"Sri Lanka",name_fr:"Sri Lanka",flag:187,},{iso2:"BL",iso3:"BLM",name:"St Barthélemy",name_fr:"Saint-Barthélemy",flag:0,},{iso2:"SH",iso3:"SHN",name:"St Helena, Ascension and Tristan da Cunha",name_fr:"Sainte-Hélène, Ascension et Tristan da Cunha",flag:166,},{iso2:"KN",iso3:"KNA",name:"St Kitts and Nevis",name_fr:"Saint-Kitts-et-Nevis",flag:167,},{iso2:"LC",iso3:"LCA",name:"St Lucia",name_fr:"Sainte-Lucie",flag:168,},{iso2:"PM",iso3:"SPM",name:"St Pierre and Miquelon",name_fr:"Saint-Pierre-et-Miquelon",flag:169,},{iso2:"VC",iso3:"VCT",name:"St Vincent",name_fr:"Saint-Vincent-et-les-Grenadines",flag:170,},{iso2:"SD",iso3:"SDN",name:"Sudan",name_fr:"Soudan",flag:188},{iso2:"SR",iso3:"SUR",name:"Suriname",name_fr:"Suriname",flag:189,},{iso2:"SJ",iso3:"SJM",name:"Svalbard and Jan Mayen",name_fr:"Svalbard et l'Île Jan Mayen",flag:190,},{iso2:"SE",iso3:"SWE",name:"Sweden",name_fr:"Suède",alternates:["Sverige"],flag:192,},{iso2:"CH",iso3:"CHE",name:"Switzerland",name_fr:"Suisse",alternates:["Schweiz"],flag:193,},{iso2:"SY",iso3:"SYR",name:"Syria",name_fr:"République arabe syrienne",flag:0,},{iso2:"TW",iso3:"TWN",name:"Taiwan",name_fr:"Taïwan (Province de Chine)",flag:194,},{iso2:"TJ",iso3:"TJK",name:"Tajikistan",name_fr:"Tadjikistan",flag:195,},{iso2:"TZ",iso3:"TZA",name:"Tanzania",name_fr:"Tanzanie, République-Unie de",flag:196,},{iso2:"TH",iso3:"THA",name:"Thailand",name_fr:"Thaïlande",flag:197,},{iso2:"TG",iso3:"TGO",name:"Togo",name_fr:"Togo",flag:198},{iso2:"TK",iso3:"TKL",name:"Tokelau",name_fr:"Tokelau",flag:0},{iso2:"TO",iso3:"TON",name:"Tonga",name_fr:"Tonga",flag:199},{iso2:"TT",iso3:"TTO",name:"Trinidad and Tobago",name_fr:"Trinité-et-Tobago",flag:200,},{iso2:"TN",iso3:"TUN",name:"Tunisia",name_fr:"Tunisie",flag:201},{iso2:"TR",iso3:"TUR",name:"Turkey",name_fr:"Turquie",alternates:["Türkiye"],flag:202,},{iso2:"TM",iso3:"TKM",name:"Turkmenistan",name_fr:"Turkménistan",flag:203,},{iso2:"TC",iso3:"TCA",name:"Turks and Caicos Islands",name_fr:"Turks-et-Caïcos (les Îles)",flag:204,},{iso2:"TV",iso3:"TUV",name:"Tuvalu",name_fr:"Tuvalu",flag:205},{iso2:"UG",iso3:"UGA",name:"Uganda",name_fr:"Ouganda",flag:206},{iso2:"UA",iso3:"UKR",name:"Ukraine",name_fr:"Ukraine",alternates:["Ukraina"],flag:207,},{iso2:"AE",iso3:"ARE",name:"United Arab Emirates",name_fr:"Émirats arabes unis",alternates:["UAE"],flag:208,},{iso2:"GB",iso3:"GBR",name:"United Kingdom",name_fr:"Royaume-Uni",alternates:["Britain","England","Great Britain","Northern Ireland","Scotland","UK","Wales",],flag:78,},{iso2:"US",iso3:"USA",name:"United States",name_fr:"États-Unis",alternates:["America","United States of America"],flag:210,},{iso2:"UM",iso3:"UMI",name:"United States Minor Outlying Islands",name_fr:"Îles mineures éloignées des États-Unis",flag:0,},{iso2:"VI",iso3:"VIR",name:"United States Virgin Islands",name_fr:"Vierges des États-Unis (les Îles)",flag:215,},{iso2:"UY",iso3:"URY",name:"Uruguay",name_fr:"Uruguay",flag:209},{iso2:"UZ",iso3:"UZB",name:"Uzbekistan",name_fr:"Ouzbékistan",flag:211,},{iso2:"VU",iso3:"VUT",name:"Vanuatu",name_fr:"Vanuatu",flag:212},{iso2:"VA",iso3:"VAT",name:"Vatican City",name_fr:"Saint-Siège [État de la Cité du Vatican]",flag:0,},{iso2:"VE",iso3:"VEN",name:"Venezuela",name_fr:"Venezuela, République bolivarienne du ",flag:213,},{iso2:"VN",iso3:"VNM",name:"Vietnam",name_fr:"Viet Nam",flag:214,},{iso2:"WF",iso3:"WLF",name:"Wallis and Futuna",name_fr:"Wallis-et-Futuna ",flag:216,},{iso2:"EH",iso3:"ESH",name:"Western Sahara",name_fr:"Sahara occidental",flag:0,},{iso2:"YE",iso3:"YEM",name:"Yemen",name_fr:"Yémen",flag:217},{iso2:"ZM",iso3:"ZMB",name:"Zambia",name_fr:"Zambie",flag:218},{iso2:"ZW",iso3:"ZWE",name:"Zimbabwe",name_fr:"Zimbabwe",flag:219,},];a.countryNameType={NAME:0,ISO2:1,ISO3:2,};a.CountryList=function(b,c){var d=new a.Eventable(this);d.fields=b||[];d.options=c||{};d.options.defaultCode=d.options.defaultCode||"";d.options.value=d.options.value||"";d.options.codesList=d.options.codesList||"";d.options.fillOthers=d.options.fillOthers||false;d.options.list=d.options.list||{};d.options.populate=typeof d.options.populate=="boolean"?d.options.populate:true;d.options.prepopulate=typeof d.options.prepopulate=="boolean"?d.options.prepopulate:true;d.options.language=d.options.language||"en";d.options.nameType=d.options.nameType||a.countryNameType.NAME;d.options.valueType=d.options.valueType||a.countryNameType.NAME;d.options.fallbackCode=d.options.fallbackCode||"GBR";d.autocomplete=new a.AutoComplete(d.fields,d.options.list);d.country=null;d.textChanged=false;d.nameProperty=d.options.language==="fr"?"name_fr":"name";d.template="<div class='pcaflag'></div><div class='pcaflaglabel'>{"+d.nameProperty+"}</div>";d.load=function(){a.addClass(d.autocomplete.element,"pcacountrylist");function k(f){d.change(f);d.fire("select",f)}if(d.options.codesList){var j=d.options.codesList.replace(/\s/g,"").split(","),m=[];d.autocomplete.clear();for(var n=0;n<j.length;n++){var g=j[n].toString().toUpperCase();for(var q=0;q<a.countries.length;q++){if(a.countries[q].iso2===g||a.countries[q].iso3===g){m.push(a.countries[q]);break}}}if(d.options.fillOthers){for(var h=0;h<a.countries.length;h++){var l=false;for(var p=0;p<m.length;p++){if(a.countries[h].iso3===m[p].iso3){l=true}}if(!l){m.push(a.countries[h])}}}d.autocomplete.clear().add(m,d.template,k)}else{d.autocomplete.clear().add(a.countries,d.template,k)}d.autocomplete.list.collection.all(function(f){d.setFlagPosition(f.element.firstChild,f.data.flag);f.tag+=" "+a.formatTag(f.data.iso3+(f.data.alternates?" "+f.data.alternates.join(" "):""))});d.autocomplete.listen("focus",function(){d.autocomplete.showAll()});function e(i){if(a.selectList(i)){var f=a.getSelectedItem(i);d.change(d.find(f.value)||d.find(f.text))}else{d.setCountry(a.getValue(i))}d.textChanged=false}d.autocomplete.listen("change",function(f){d.autocomplete.visible?(d.textChanged=true):e(f)});d.autocomplete.listen("hide",function(){if(d.textChanged){e(d.autocomplete.field)}});if(d.options.value){d.country=d.find(d.options.value)}if(!d.country&&d.options.defaultCode){d.country=d.find(d.options.defaultCode)}d.country=d.country||(d.options.codesList?d.first():d.find(d.options.fallbackCode))||d.first()||d.find(d.options.fallbackCode);d.fire("load")};d.getName=function(e){switch(d.options.nameType){case a.countryNameType.NAME:return(e||d.country)[d.nameProperty];case a.countryNameType.ISO2:return(e||d.country).iso2;case a.countryNameType.ISO3:return(e||d.country).iso3}return(e||d.country)[d.nameProperty]};d.getValue=function(e){switch(d.options.valueType){case a.countryNameType.NAME:return(e||d.country)[d.nameProperty];case a.countryNameType.ISO2:return(e||d.country).iso2;case a.countryNameType.ISO3:return(e||d.country).iso3}return(e||d.country).iso3};d.populate=function(){if(!d.options.populate){return}var f=d.getName(),j=d.getValue();for(var g=0;g<d.fields.length;g++){var e=a.getElement(d.fields[g]),h=a.getValue(e);a.setValue(e,a.selectList(e)?j:f);if(d.options.prepopulate&&h!==a.getValue(e)){a.fire(e,"change")}}d.fire("populate")};d.find=function(f){f=f.toString().toUpperCase();function e(h){if(h.data.alternates){for(var g=0;g<h.data.alternates.length;g++){if(h.data.alternates[g].toUpperCase()===f){return true}}}return false}return(d.autocomplete.list.collection.first(function(g){return(g.data.iso2.toUpperCase()===f||g.data.iso3.toUpperCase()===f||g.data.name.toUpperCase()===f||g.data.name_fr.toUpperCase()===f||e(g))})||{}).data};d.first=function(){return d.autocomplete.list.collection.first().data};d.change=function(f,e){e=typeof e=="undefined"?false:true;if(f){d.country=f;d.populate();d.textChanged=false;d.fire("change",d.country,e)}};d.setFlagPosition=function(f,e){f.style.backgroundPosition="-1px -"+(e*16+2)+"px"};d.flag=function(){var e=a.create("div",{className:"pcaflag"});function f(g){d.setFlagPosition(e,g.flag)}f(d.country);d.listen("change",f);return e};d.setCountry=function(f,e){e=typeof e=="undefined"?false:e;d.change(d.find(f),e);return d};d.setCountryByIP=function(e){function f(g){if(g.length&&g[0].Iso3){d.setCountry(g[0].Iso3,true)}}if(e){a.fetch("Extras/Web/Ip2Country/v1.10",{Key:e},f)}};d.load()}})();(function(c,d){var b=(c.pca=c.pca||{}),a=c.document;b.browser=(function(){var f=navigator.userAgent,e,h=f.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],g=f.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*([\d.]+)/i)||[];if(/trident/i.test(h[1])){e=/\brv[ :]+(\d+)/g.exec(f)||[];return{name:"IE",version:e[1]||""}}if(h[1]==="Chrome"){e=f.match(/\b(OPR|Edge)\/(\d+)/);if(e!=null){return{name:e[1].replace("OPR","Opera"),version:e[2]}}}h=h[2]?[h[1],h[2]]:[navigator.appName,navigator.appVersion,"-?"];if((e=f.match(/version\/(\d+)/i))!=null){h.splice(1,1,e[1])}if(g&&g[2]){return{name:h[0],version:h[1],fullVersion:g[2]}}return{name:h[0],version:h[1]}})()})(window);(function(){var a=(window.pca=window.pca||{});a.fieldMode={DEFAULT:3,NONE:0,SEARCH:1,POPULATE:2,PRESERVE:4,COUNTRY:8,};a.filteringMode={ADDRESS:"Address",STREET:"Street",LOCALITY:"Locality",POSTCODE:"Postcode",EVERYTHING:"",};a.orderingMode={DEFAULT:"UserLocation",LOCATION:"UserLocation",NONE:"",};a.messages={en:{DIDYOUMEAN:"Did you mean:",NORESULTS:"No results found",KEEPTYPING:"Keep typing your address to display more results",RETRIEVEERROR:"Sorry, we could not retrieve this address",SERVICEERROR:"Service Error:",COUNTRYSELECT:"Change Country",NOLOCATION:"Sorry, we could not get your location",NOCOUNTRY:"Sorry, we could not find this country",MANUALENTRY:"I cannot find my address. Let me type it in",RESULTCOUNT:"<b>{count}</b> matching results",GEOLOCATION:"Use my Location",},cy:{DIDYOUMEAN:"A oeddech yn meddwl:",NORESULTS:"Dim canlyniadau ar ganlyniadau",KEEPTYPING:"Cadwch teipio eich cyfeiriad i arddangos mwy o ganlyniadau",RETRIEVEERROR:"Mae'n ddrwg gennym, ni allem adfer y cyfeiriad hwn",SERVICEERROR:"Gwall gwasanaeth:",COUNTRYSELECT:"Dewiswch gwlad",NOLOCATION:"Mae'n ddrwg gennym, nid oeddem yn gallu cael eich lleoliad",NOCOUNTRY:"Mae'n ddrwg gennym, ni allem ddod o hyd y wlad hon",MANUALENTRY:"Ni allaf ddod o hyd i fy nghyfeiriad. Gadewch i mi deipio mewn",RESULTCOUNT:"<b>{count}</b> Canlyniadau paru",GEOLOCATION:"Defnyddiwch fy Lleoliad",},fr:{DIDYOUMEAN:"Vouliez-vous dire:",NORESULTS:"Aucun résultat n'a été trouvé",KEEPTYPING:"Continuer à taper votre adresse pour afficher plus de résultats",RETRIEVEERROR:"Désolé , nous ne pouvions pas récupérer cette adresse",SERVICEERROR:"Erreur de service:",COUNTRYSELECT:"Changer de pays",NOLOCATION:"Désolé, nous n'avons pas pu obtenir votre emplacement",NOCOUNTRY:"Désolé, nous n'avons pas trouvé ce pays",MANUALENTRY:"Je ne peux pas trouver mon adresse. Permettez-moi de taper dans",RESULTCOUNT:"<b>{count}</b> résultats correspondants",GEOLOCATION:"Utiliser ma position",},de:{DIDYOUMEAN:"Meinten Sie:",NORESULTS:"Keine Adressen gefunden",KEEPTYPING:"Geben Sie mehr von Ihrer Adresse ein, um weitere Ergebnisse anzuzeigen",RETRIEVEERROR:"Wir konnten diese Adresse leider nicht abrufen",SERVICEERROR:"Service-Fehler:",COUNTRYSELECT:"Land wechseln",NOLOCATION:"Wir konnten Ihren Standort leider nicht finden",NOCOUNTRY:"Wir konnten dieses Land leider nicht finden",MANUALENTRY:"Ich kann meine Adresse nicht finden. Lassen Sie mich es manuell eingeben",RESULTCOUNT:"<b>{count}</b> passenden Ergebnisse",GEOLOCATION:"Meinen Standort verwenden",},};a.exampleAddress={Id:"GBR|PR|52509479|0|0|0",DomesticId:"52509479",Language:"ENG",LanguageAlternatives:"ENG",Department:"",Company:"Postcode Anywhere (Europe) Ltd",SubBuilding:"",BuildingNumber:"",BuildingName:"Waterside",SecondaryStreet:"",Street:"Basin Road",Block:"",Neighbourhood:"",District:"",City:"Worcester",Line1:"Waterside",Line2:"Basin Road",Line3:"",Line4:"",Line5:"",AdminAreaName:"Worcester",AdminAreaCode:"47UE",Province:"Worcestershire",ProvinceName:"Worcestershire",ProvinceCode:"",PostalCode:"WR5 3DA",CountryName:"United Kingdom",CountryIso2:"GB",CountryIso3:"GBR",CountryIsoNumber:826,SortingNumber1:"94142",SortingNumber2:"",Barcode:"(WR53DA1PX)",Label:"Postcode Anywhere (Europe) Ltd\nWaterside\nBasin Road\n\nWorcester\nWR5 3DA\nUnited Kingdom",Type:"Commercial",DataLevel:"Premise",Field1:"",Field2:"",Field3:"",Field4:"",Field5:"",Field6:"",Field7:"",Field8:"",Field9:"",Field10:"",Field11:"",Field12:"",Field13:"",Field14:"",Field15:"",Field16:"",Field17:"",Field18:"",Field19:"",Field20:"",};a.templates={AUTOCOMPLETE:"{HighlightedText}{<span class='pcadescription'>{HighlightedDescription}</span>}",AUTOCOMPLETE_UTILITY:"{<span class='pcautilitytype'>({UtilityType})</span>}{HighlightedText}{<span class='pcadescription'>{HighlightedDescription}</span>}",};a.Address=function(c,f){function e(h){h=h||{};h.name=h.name||"";h.source=h.source||"";h.populate=typeof h.populate=="boolean"?h.populate:true;h.onlyInputs=typeof h.onlyInputs=="boolean"?h.onlyInputs:false;h.autoSearch=typeof h.autoSearch=="boolean"?h.autoSearch:false;h.preselect=typeof h.preselect=="boolean"?h.preselect:true;h.minSearch=h.minSearch||1;h.minItems=h.minItems||1;h.maxItems=h.maxItems||7;h.advancedFields=h.advancedFields||[];h.manualEntry=typeof h.manualEntry=="boolean"?h.manualEntry:false;h.manualEntryItem=typeof h.manualEntryItem=="boolean"?h.manualEntryItem:false;h.disableTime=h.disableTime||60000;h.suppressAutocomplete=typeof h.suppressAutocomplete=="boolean"?h.suppressAutocomplete:true;h.brand=h.brand||"PostcodeAnywhere"||"PostcodeAnywhere";h.product=h.product||"Capture+";h.culture=h.culture||"en-GB";h.prompt=typeof h.prompt=="boolean"?h.prompt:false;h.promptDelay=h.promptDelay||0;h.inlineMessages=typeof h.inlineMessages=="boolean"?h.inlineMessages:false;h.setCursor=typeof h.setCursor=="boolean"?h.setCursor:false;h.matchCount=typeof h.matchCount=="boolean"?h.matchCount:false;h.languagePreference=h.languagePreference||"";h.filteringMode=h.filteringMode||a.filteringMode.EVERYTHING;h.orderingMode=h.orderingMode||a.orderingMode.DEFAULT;h.countries=h.countries||{};h.countries.codesList=h.countries.codesList||"";h.countries.defaultCode=h.countries.defaultCode||"";h.setCountryByIP=typeof h.setCountryByIP=="boolean"&&!h.countries.defaultCode?h.setCountryByIP:false;h.countries.value=h.countries.value||"";h.countries.prepopulate=typeof h.countries.prepopulate=="boolean"?h.countries.prepopulate:true;h.list=h.list||{};h.list.name=h.name?h.name+"_results":"";h.list.maxItems=h.list.maxItems||h.maxItems;h.list.minItems=h.list.minItems||h.minItems;h.countries.list=h.countries.list||a.extend({},h.list);h.countries.list.name=h.name?h.name+"_countries":"";h.GeoLocationEnabled=h.GeoLocationEnabled=="true"||h.GeoLocationEnabled==true;h.GeoLocationRadius=h.GeoLocationRadius||50;h.GeoLocationMaxItems=h.GeoLocationMaxItems||10;h.utilitiesenabled=typeof h.utilitiesenabled=="boolean"?h.utilitiesenabled:false;h.utilitiesutilitycodetype=h.utilitiesutilitycodetype||"ALL";h.bar=h.bar||{};h.bar.visible=h.GeoLocationEnabled?true:typeof h.bar.visible=="boolean"?h.bar.visible:false;h.bar.showCountry=typeof h.bar.showCountry=="boolean"?h.bar.showCountry:false;h.bar.showLogo=typeof h.bar.showLogo=="boolean"?h.bar.showLogo:true;h.bar.logoLink=typeof h.bar.logoLink=="boolean"?h.bar.logoLink:false;h.bar.logoClass=h.bar.logoClass||"pcalogo"||"pcalogo";h.bar.logoTitle=h.bar.logoTitle||"Powered by www.pcapredict.com";h.bar.logoUrl=h.bar.logoUrl||"http://www.pcapredict.com/";h.search=h.search||{};h.search.limit=h.search.limit||h.maxItems;h.search.origin=h.search.origin||h.countries.defaultCode||"";h.search.countries=h.search.countries||h.countries.codesList||"";h.search.datasets=h.search.datasets||"";h.search.language=h.search.language||""}e(f);var d=new a.Eventable(this);d.fields=c||[];d.options=f;d.key=d.options.key||"";d.country=d.options.countries.defaultCode;d.origin=d.options.search.origin;d.advancedFields=d.options.advancedFields;d.initialSearch=false;d.searchContext=null;d.lastActionTimer=null;d.notifcationTimer=null;d.storedSearch=null;d.geolocation=null;d.geoLocationButton=null;d.loaded=false;d.language="en";d.filteringMode=d.options.filteringMode;d.orderingMode=d.options.orderingMode;d.testMode=false;d.instance=null;d.frugalSearch=true;d.blockSearches=true;d.cacheRequests=true;d.autocomplete=null;d.countrylist=null;d.messageBox=null;d.load=function(){var r=[],t=[];for(var n=0;n<d.fields.length;n++){var s=d.fields[n];s.mode=typeof s.mode=="number"?s.mode:a.fieldMode.DEFAULT;if(s.mode&a.fieldMode.COUNTRY){t.push(s.element);if(/CountryIso2/.test(s.field)){d.options.countries.nameType=d.options.countries.nameType||a.countryNameType.ISO2;d.options.countries.valueType=d.options.countries.valueType||a.countryNameType.ISO2}if(/CountryIso3/.test(s.field)){d.options.countries.nameType=d.options.countries.nameType||a.countryNameType.ISO3;d.options.countries.valueType=d.options.countries.valueType||a.countryNameType.ISO3}}else{if(s.mode&a.fieldMode.SEARCH){r.push(s.element);if(d.options.suppressAutocomplete){var j=a.getElement(s.element);d.preventAutocomplete(j)}}}s.field=d.checkFormat(s.field)}d.detectLanguage();d.autocomplete=new a.AutoComplete(r,d.options.list);d.autocomplete.skipFilter=true;d.autocomplete.addUtilityLookupToTop=false;d.autocomplete.checkIfProbablyUtilitySearch=function(){if(d.options.utilitiesenabled){if(a.getValue(d.autocomplete.field).replace(/[^0-9]/g,"").length>=5){d.autocomplete.addUtilityLookupToTop=true;d.userSetFrugalSearch=d.frugalSearch;d.userSetCacheRequests=d.cacheRequests;d.frugalSearch=false;d.cacheRequests=false}else{d.autocomplete.addUtilityLookupToTop=false;d.frugalSearch=d.userSetFrugalSearch;d.cacheRequests=d.userSetCacheRequests}}};d.autocomplete.listen("keyup",function(w){d.autocomplete.checkIfProbablyUtilitySearch();if(d.countrylist.autocomplete.visible){d.countrylist.autocomplete.handleKey(w)}else{if(d.autocomplete.controlDown&&w===40){d.switchToCountrySelect()}else{if(w===0||w===8||w===32||(w>=36&&w<=40&&!d.initialSearch)||w>40){d.searchFromField()}}}});d.autocomplete.listen("paste",function(){d.autocomplete.checkIfProbablyUtilitySearch();d.newSearch();d.searchFromField()});d.autocomplete.listen("focus",d.focus);d.autocomplete.listen("blur",d.blur);d.autocomplete.listen("show",function(){d.fire("show")});d.autocomplete.listen("hide",function(){d.fire("hide")});d.autocomplete.listen("dblclick",d.searchFromField);d.autocomplete.list.listen("filter",function(){if(d.frugalSearch){d.search(a.getValue(d.autocomplete.field))}});d.autocomplete.listen("delete",d.newSearch);if(!d.options.countries.value&&t.length){d.options.countries.value=a.getValue(t[0])}d.options.countries.language=d.language;d.countrylist=new a.CountryList(t,d.options.countries);d.countrylist.autocomplete.options.emptyMessage=a.messages[d.language].NOCOUNTRY;d.country=d.countrylist.country.iso3;d.countrylist.listen("change",function(x,w){d.country=x&&x.iso3?x.iso3:d.options.countries.defaultCode;if(w){d.updateGeoLocationActive()}d.origin=d.country;d.fire("country",x)});d.countrylist.listen("select",d.switchToSearchMode);d.countrylist.autocomplete.listen("filter",function(){if(d.options.preselect){d.countrylist.autocomplete.list.first()}});d.countrylist.autocomplete.listen("show",function(){d.fire("show")});d.countrylist.autocomplete.listen("hide",function(){d.autocomplete.enable();if(d.storedSearch!=null){a.setValue(d.autocomplete.field,d.storedSearch)}d.storedSearch=null;d.fire("hide")});if(d.countrylist.autocomplete.list.collection.count===1){d.options.bar.showCountry=false}if(d.options.GeoLocationEnabled){var m=a.create("div",{className:"geoLocationIcon",title:a.messages[d.language].GEOLOCATION,});var h=a.create("div",{className:"geoLocationMessage",innerHTML:a.messages[d.language].GEOLOCATION,});a.listen(m,"click",d.startGeoLocation);a.listen(h,"click",d.startGeoLocation);d.autocomplete.footer.setContent(m);d.autocomplete.footer.setContent(h);d.geocodeButton=m;d.geocodeText=h}var o=a.create("div",{className:"pcaflagbutton"}),p=d.countrylist.flag();o.appendChild(p);if(d.options.bar.showCountry){d.autocomplete.footer.setContent(o)}a.listen(o,"click",d.switchToCountrySelect);var v=a.create("div",{className:"pcamessage pcadisableselect",innerHTML:a.messages[d.language].COUNTRYSELECT,});if(d.options.bar.showCountry){d.autocomplete.footer.setContent(v)}var q=a.create("a",{href:d.options.bar.logoUrl,target:"_blank",rel:"nofollow",}),l=a.create("div",{className:d.options.bar.logoClass+" pcalogo"+d.language,title:d.options.bar.logoTitle,});if(d.options.bar.logoLink){q.appendChild(l)}else{q=l}d.autocomplete.footer.setContent(q);d.showFooterLogo=function(){q.style.display=d.options.bar.showLogo?"":"none"};d.showFooterMessage=function(){q.style.display=d.options.bar.showCountry?"none":d.options.bar.showLogo?"":"none"};if(d.options.bar.visible){d.autocomplete.footer.show();d.showFooterMessage()}else{d.autocomplete.hide()}var i=a.create("div",{className:"pcamessage pcadisableselect",innerHTML:a.messages[d.language].COUNTRYSELECT,});if(d.options.bar.showCountry){d.countrylist.autocomplete.footer.setContent(i)}if(d.options.bar.visible){d.countrylist.autocomplete.footer.show()}if(d.options.manualEntryItem){d.addManualEntryItem()}if(d.options.setCountryByIP){d.setCountryByIP()}else{d.countrylist.setCountry(d.country)}if(f.name){var u=f.list.name,k=f.countries.list.name;a.setAttributes(v,{id:u+"_label"});a.setAttributes(o,{id:u+"_button",role:"button","aria-labelledby":u+"_label",});a.setAttributes(i,{id:k+"_label"})}d.messageBox=a.create("div",{className:"pcatext pcanotification",});a.append(d.messageBox,a.container);d.loaded=true;d.fire("load")};d.searchFromField=function(){var h=a.getValue(d.autocomplete.field);if(h&&!d.autocomplete.disabled&&(!d.initialSearch||!d.frugalSearch)&&h.length>=d.options.minSearch){d.initialSearch=true;d.search(h)}};d.updateGeoLocationActive=function(){if(d.country=="GBR"&&a.supports("reverseGeo")&&d.options.GeoLocationEnabled){if(d.geocodeButton){a.addClass(d.geocodeButton,"active");a.addClass(d.geocodeText,"active")}}else{if(d.geocodeButton){a.removeClass(d.geocodeButton,"active");a.removeClass(d.geocodeText,"active")}}};d.geolocationLookup=function(h){if(h.coords){var i={Key:d.key,Latitude:h.coords.latitude,Longitude:h.coords.longitude,Items:d.options.GeoLocationMaxItems,Radius:d.options.GeoLocationRadius,};d.fire("geolocation",i);a.fetch("Capture/Interactive/GeoLocation/v1.00",i,function(k,j){a.removeClass(d.geocodeButton,"working");if(k.length){d.display(k,a.templates.AUTOCOMPLETE,j)}else{d.noResultsMessage()}},function(j){a.removeClass(d.geocodeButton,"working");d.error(j)})}else{d.error("The location supplied for the reverse geocode doesn't contain coordinate information.")}};d.utilitiesLookup=function(h){var i={Key:d.key,Text:h,UtilCodeType:d.options.utilitiesutilitycodetype,};d.fire("utilities",i);a.fetch("Capture/Interactive/Utilities/v1.00",i,function(k,j){if(k.length){d.display(k,a.templates.AUTOCOMPLETE_UTILITY,j)}else{d.noResultsMessage()}},function(j){d.error(j)})};d.search=function(i){if(d.autocomplete.addUtilityLookupToTop){d.fire("utilitiesactive",i.replace(/[^0-9]/g,""));d.display([{Id:"",Type:"Utility",Text:"Lookup MPAN/MPRN/Serial Number",Highlight:"",Description:"",},],a.templates.AUTOCOMPLETE_UTILITY,null)}else{if(d.searchContext){if(~i.indexOf(d.searchContext.search)){i=i.replace(d.searchContext.search,d.searchContext.text)}else{d.searchContext=null}}var h={text:i,container:d.searchContext?d.searchContext.id||"":"",origin:d.origin||"",countries:d.options.search.countries,datasets:d.options.search.datasets,filter:d.filteringMode,limit:d.options.search.limit,language:d.options.search.language||d.language,};function k(m,l){if(m.length){d.display(m,a.templates.AUTOCOMPLETE,l)}else{d.noResultsMessage()}}d.fire("search",h);if(h.text){var j={Key:d.key,Text:h.text,Container:h.container,Origin:h.origin,Countries:h.countries,Datasets:h.datasets,Limit:h.limit,Filter:h.filter,Language:h.language,$block:d.blockSearches,$cache:d.cacheRequests,};if(d.testMode){j.Test=d.testMode}if(d.instance){j.Instance=d.instance}a.fetch("Capture/Interactive/Find/v1.00",j,k,d.error)}}return d};d.retrieve=function(m){var l={Key:d.key,Id:m,Source:d.options.source,$cache:d.cacheRequests,};function h(i){d.message(a.messages[d.language].RETRIEVEERROR,{clickToDisable:d.options.manualEntry,error:true,clearList:true,});d.error(i)}function k(i,n,o){if(o){d.fire("retrieveResponse",i,n,o)}i.length?d.populate(i):h(i)}for(var j=0;j<d.advancedFields.length;j++){l["field"+(j+1)+"format"]=d.advancedFields[j]}if(d.advancedFields.length){l.Fields=d.advancedFields.length}a.fetch("Capture/Interactive/Retrieve/v1.00",l,k,h)};d.error=function(h){d.fire("error",h);a.clearBlockingRequests();if(!d.listeners.error){if(typeof console!="undefined"&&typeof console.error!="undefined"){console.error(a.messages[d.language].SERVICEERROR+" "+h)}else{throw a.messages[d.language].SERVICEERROR+" "+h}}};function b(){if(d.lastActionTimer!=null){window.clearTimeout(d.lastActionTimer);d.lastActionTimer=null}}d.display=function(j,k,i){d.autocomplete.header.hide();d.highlight(j);d.fire("results",j,i);d.autocomplete.clear().add(j,k,d.select).show();d.showFooterLogo();d.autocomplete.list.collection.all(function(l){if(l.data&&l.data.Type&&l.data.Type!=="Address"){a.addClass(l.element,"pcaexpandable")}});if(d.options.preselect){d.autocomplete.list.first()}if(d.options.prompt){function h(){d.message(a.messages[d.language].KEEPTYPING)}b();if(d.options.promptDelay){d.lastActionTimer=window.setTimeout(h,d.options.promptDelay)}else{h()}}if(d.options.matchCount&&i&&i.ContainerCount){d.resultCountMessage(i.ContainerCount)}d.fire("display",j,i);return d};d.message=function(l,k){k=k||{};k.notificationTimeout=k.notificationTimeout||3000;k.inline=k.inline||d.options.inlineMessages;b();if(k.inline){d.autocomplete.show();if(k.clickToDisable){d.autocomplete.header.clear().setContent(a.create("div",{className:"pcamessage",innerHTML:l,onclick:d.manualEntry,},"cursor:pointer;")).show()}else{d.autocomplete.header.clear().setText(l).show()}d.reposition()}else{d.messageBox.innerHTML=l;a.addClass(d.messageBox,"pcavisible");a.removeClass(d.messageBox,"pcaerror");if(k.error){a.addClass(d.messageBox,"pcaerror")}if(d.notifcationTimer){window.clearTimeout(d.notifcationTimer)}a.removeClass(d.messageBox,"pcafade");d.notifcationTimer=window.setTimeout(function(){a.addClass(d.messageBox,"pcafade");window.setTimeout(function(){a.removeClass(d.messageBox,"pcavisible")},500)},k.notificationTimeout);var i=a.getPosition(d.autocomplete.field),h=a.getSize(d.autocomplete.field),j=a.getSize(d.messageBox);d.messageBox.style.top=(d.autocomplete.upwards?i.top+h.height+8:i.top-j.height-8)+"px";d.messageBox.style.left=i.left+"px"}if(k.clearList){d.autocomplete.clear().list.hide()}return d};d.noResultsMessage=function(){d.reset();d.message(a.messages[d.language].NORESULTS,{clickToDisable:d.options.manualEntry,error:true,clearList:true,});d.fire("noresults")};d.resultCountMessage=function(h){d.message(a.formatLine({count:h},a.messages[d.language].RESULTCOUNT))};d.setCursorText=function(i,h){d.autocomplete.prompt(i,h);return d};d.select=function(h){function j(){var k=a.getValue(d.autocomplete.field);if(d.options.setCursor){k=a.removeHtml(h.Text).replace("...","");d.setCursorText(k,h.Cursor>=0?h.Cursor:null)}else{a.setValue(d.autocomplete.field,k+" ");d.autocomplete.field.focus()}d.searchContext={id:h.Id,text:h.Text,search:k,};d.search(k)}if(h.Type==="Address"){d.retrieve(h.Id)}else{if(h.Type==="Utility"){var i=a.getValue(d.autocomplete.field);d.utilitiesLookup(i)}else{j()}}return d};d.highlight=function(h,m,n){m=m||"<b>";n=n||"</b>";function j(r,q){for(var p=q.length-1;p>=0;p--){var o=q[p].split("-");r=r.substring(0,parseInt(o[0]))+m+r.substring(parseInt(o[0]),parseInt(o[1]))+n+r.substring(parseInt(o[1]),r.length)}return r}for(var l=0;l<h.length;l++){var i=h[l];i.HighlightedText=i.title=i.tag=i.Text;i.HighlightedDescription=i.Description;if(!i.Highlight){continue}var k=i.Highlight.split(";");if(k.length>0){i.HighlightedText=j(i.HighlightedText,k[0].split(","))}if(k.length>1){i.HighlightedDescription=j(i.HighlightedDescription,k[1].split(","))}}};d.populate=function(r){var p=r[0];if(d.options.languagePreference){for(var n=0;n<r.length;n++){if(r[n].Language===d.options.languagePreference.toUpperCase()){p=r[n];break}}}d.setCountry(p.CountryIso2);if(d.options.countries.prepopulate){}d.countrylist.populate();var k={Line1:null,Line2:null,Line3:null,Line4:null,Line5:null,Street:null,Building:null,Company:null,},o=0;for(var q=0;q<d.fields.length;q++){for(var m in k){if(~d.fields[q].field.indexOf(m)){k[m]=d.fields[q]}}}for(var j=1;j<=5;j++){if(k["Line"+j]){o++}}if(k.Building&&k.Street){o++}for(var h=1;h<=5;h++){p["FormattedLine"+h]=d.getAddressLine(p,h,o,!k.Company)}d.fire("prepopulate",p,r);for(var t=0;t<d.fields.length&&d.options.populate;t++){var s=d.fields[t];if(!(s.mode&a.fieldMode.POPULATE)){continue}if(d.options.onlyInputs&&!(a.inputField(s.element)||a.selectList(s.element)||a.checkBox(s.element))){continue}if(s.mode&a.fieldMode.PRESERVE&&a.getValue(s.element)&&d.autocomplete.field!==a.getElement(s.element)){continue}var v=d.fields[t].field.replace(/(Formatted)?Line/g,"FormattedLine"),u=/[\{\}]/.test(v)||v===""?a.formatLine(p,v):p[v];a.setValue(s.element,u)}d.hide();d.newSearch();d.fire("populate",p,r,d.key);return d};d.getAddressLine=function(h,j,o,k){var l,p="";k=k&&!!h.Company;if(k){if(j===1&&o>1){return h.Company}if(j===1&&o===1){p=h.Company}else{j--;o--}}if(!h.Line1){l=0}else{if(!h.Line2){l=1}else{if(!h.Line3){l=2}else{if(!h.Line4){l=3}else{if(!h.Line5){l=4}else{l=5}}}}}var n=o>=l?j:Math.floor(1+(l/o+(o-(j-1))/o)*(j-1)),i=Math.floor(l/o+(o-j)/o);for(var m=0;m<i;m++){p+=(p?", ":"")+(h["Line"+(m+n)]||"")}return p};d.switchToCountrySelect=function(){d.countrylist.autocomplete.position(d.autocomplete.field);d.countrylist.autocomplete.field=d.autocomplete.field;d.countrylist.autocomplete.focused=true;d.countrylist.autocomplete.enable().showAll();d.countrylist.autocomplete.list.first();d.autocomplete.disable().hide();d.storedSearch=a.getValue(d.autocomplete.field);a.clear(d.autocomplete.field);d.autocomplete.field.focus()};d.switchToSearchMode=function(){var h=d.storedSearch!=null;d.countrylist.autocomplete.hide();d.autocomplete.enable();if(h){d.newSearch();d.autocomplete.field.focus();d.searchFromField()}};d.startGeoLocation=function(){if(a.supports("reverseGeo")){var h=window.navigator;a.addClass(d.geocodeButton,"working");h.geolocation.getCurrentPosition(function(i){d.geolocation=i;d.geolocationLookup(d.geolocation)},function(i){a.removeClass(d.geocodeButton,"working");d.error(i.message)},{timeout:5000,})}else{d.error("Location data is not supported in this browser.")}};d.setCountry=function(h){d.countrylist.setCountry(h);return d};d.setCountryByIP=function(){d.countrylist.setCountryByIP(d.key);return d};d.preventAutocomplete=function(i){if(i){var j=false;if(a.browser&&a.browser.name){switch(a.browser.name){case"Chrome":if(a.browser.version&&!isNaN(Number(a.browser.version))){var h=Number(a.browser.version);if(h>=63){i.autocomplete="pca-override";j=true}}break}}if(!j){i.autocomplete="off"}}};d.detectLanguage=function(){var h=d.options.culture;var i=d.options.search.language;if(h!==i){h=(window&&window.navigator?window.navigator.language||window.navigator.browserLanguage:"")||""}d.language=h&&h.length>1?h.substring(0,2).toLowerCase():"en";if(!a.messages[d.language]){d.language="en"}};d.setCulture=function(h){d.options.culture=h;d.reload()};d.setWidth=function(h){d.autocomplete.setWidth(h);d.countrylist.autocomplete.setWidth(h)};d.setHeight=function(h){d.autocomplete.setHeight(h);d.countrylist.autocomplete.setHeight(h)};d.clear=function(){for(var h=0;h<d.fields.length;h++){a.setValue(d.fields[h].element,"")}d.fire("clear");return d};d.reset=function(){if(d.options.bar.visible){d.autocomplete.list.clear().hide();d.autocomplete.header.hide();d.showFooterMessage();d.autocomplete.reposition()}else{d.autocomplete.hide();d.autocomplete.footer.hide()}b();d.newSearch();return d};d.newSearch=function(){d.initialSearch=false;d.searchContext=null};d.focus=function(){d.reset();if(d.options.autoSearch){d.searchFromField()}d.fire("focus")};d.blur=function(){b();d.countrylist.autocomplete.field=null;d.countrylist.autocomplete.focused=false;d.countrylist.autocomplete.checkHide();d.fire("blur")};d.hide=function(){b();d.autocomplete.hide();d.countrylist.autocomplete.hide();d.fire("hide")};d.visible=function(){return(d.autocomplete.visible||d.countrylist.autocomplete.visible)};d.reposition=function(){d.autocomplete.reposition();d.countrylist.autocomplete.reposition()};d.disable=function(){d.autocomplete.disabled=true;d.countrylist.autocomplete.disabled=true;return d};d.enable=function(){d.autocomplete.disabled=false;d.countrylist.autocomplete.disabled=false;return d};d.destroy=function(){if(d.autocomplete){d.autocomplete.destroy()}if(d.countrylist){d.countrylist.autocomplete.destroy()}return d};d.reload=function(){d.destroy();d.load()};d.manualEntry=function(){if(window&&window.setTimeout&&d.options.disableTime){d.autocomplete.field.focus();d.destroy();window.setTimeout(d.load,d.options.disableTime);d.fire("manual")}return d};d.addManualEntryItem=function(h){h=h||a.messages[d.language].MANUALENTRY;d.autocomplete.list.setFooterItem({text:h},"<u>{text}</u>",d.manualEntry)};d.bound=function(h){if((h=a.getElement(h))){for(var i=0;i<d.fields.length;i++){if(h==a.getElement(c[i].element)){return true}}}return false};d.checkFormat=function(i){function h(k){for(var j in a.exampleAddress){if(j===k){return true}}return false}return i.replace(/\{(\w+)([^\}\w])?\}/g,function(j,k){if(!h(k)){d.advancedFields.push(j);return"{Field"+d.advancedFields.length+"}"}return j})};function g(i){var h=new Image();h.src=i}g("//services.postcodeanywhere.co.uk/images/icons/captureplus/loqatelogoinverted.svg");g("//services.postcodeanywhere.co.uk/images/icons/captureplus/geolocationicon.svg");g("//services.postcodeanywhere.co.uk/images/icons/captureplus/loader.gif");g("//services.postcodeanywhere.co.uk/images/icons/captureplus/chevron.png");a.ready(d.load)}})();